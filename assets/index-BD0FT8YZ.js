(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}})();const Et=(e,t)=>e===t,q=Symbol("solid-proxy"),Te=Symbol("solid-track"),ve={equals:Et};let Gt=gt;const te=1,ye=2,tt={owned:null,cleanups:null,context:null,owner:null};var k=null;let Le=null,Bt=null,_=null,B=null,Y=null,Se=0;function ce(e,t){const r=_,n=k,l=e.length===0,s=t===void 0?n:t,o=l?tt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=l?e:()=>e(()=>K(()=>Oe(o)));k=o,_=null;try{return X(i,!0)}finally{_=r,k=n}}function z(e,t){t=t?Object.assign({},ve,t):ve;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=l=>(typeof l=="function"&&(l=l(r.value)),at(r,l));return[it.bind(r),n]}function O(e,t,r){const n=ct(e,t,!1,te);_e(n)}function P(e,t,r){r=r?Object.assign({},ve,r):ve;const n=ct(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,_e(n),it.bind(n)}function rt(e){return X(e,!1)}function K(e){if(_===null)return e();const t=_;_=null;try{return e()}finally{_=t}}function nt(e,t,r){const n=Array.isArray(e);let l,s=r&&r.defer;return o=>{let i;if(n){i=Array(e.length);for(let u=0;u<e.length;u++)i[u]=e[u]()}else i=e();if(s){s=!1;return}const a=K(()=>t(i,l,o));return l=i,a}}function Ke(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function Re(){return _}function lt(){return k}function st(e,t){const r=k,n=_;k=e,_=null;try{return X(t,!0)}catch(l){We(l)}finally{k=r,_=n}}function Nt(e){const t=_,r=k;return Promise.resolve().then(()=>{_=t,k=r;let n;return X(e,!1),_=k=null,n?n.done:void 0})}function Me(e,t){const r=Symbol("context");return{id:r,Provider:Ut(r),defaultValue:e}}function ot(e){return k&&k.context&&k.context[e.id]!==void 0?k.context[e.id]:e.defaultValue}function qe(e){const t=P(e),r=P(()=>Fe(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function it(){if(this.sources&&this.state)if(this.state===te)_e(this);else{const e=B;B=null,X(()=>be(this),!1),B=e}if(_){const e=this.observers?this.observers.length:0;_.sources?(_.sources.push(this),_.sourceSlots.push(e)):(_.sources=[this],_.sourceSlots=[e]),this.observers?(this.observers.push(_),this.observerSlots.push(_.sources.length-1)):(this.observers=[_],this.observerSlots=[_.sources.length-1])}return this.value}function at(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&X(()=>{for(let l=0;l<e.observers.length;l+=1){const s=e.observers[l],o=Le&&Le.running;o&&Le.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?B.push(s):Y.push(s),s.observers&&dt(s)),o||(s.state=te)}if(B.length>1e6)throw B=[],new Error},!1)),t}function _e(e){if(!e.fn)return;Oe(e);const t=Se;Tt(e,e.value,t)}function Tt(e,t,r){let n;const l=k,s=_;_=k=e;try{n=e.fn(t)}catch(o){return e.pure&&(e.state=te,e.owned&&e.owned.forEach(Oe),e.owned=null),e.updatedAt=r+1,We(o)}finally{_=s,k=l}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?at(e,n):e.value=n,e.updatedAt=r)}function ct(e,t,r,n=te,l){const s={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:k?k.context:null,pure:r};return k===null||k!==tt&&(k.owned?k.owned.push(s):k.owned=[s]),s}function ut(e){if(e.state===0)return;if(e.state===ye)return be(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Se);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===te)_e(e);else if(e.state===ye){const n=B;B=null,X(()=>be(e,t[0]),!1),B=n}}function X(e,t){if(B)return e();let r=!1;t||(B=[]),Y?r=!0:Y=[],Se++;try{const n=e();return Rt(r),n}catch(n){r||(Y=null),B=null,We(n)}}function Rt(e){if(B&&(gt(B),B=null),e)return;const t=Y;Y=null,t.length&&X(()=>Gt(t),!1)}function gt(e){for(let t=0;t<e.length;t++)ut(e[t])}function be(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const l=n.state;l===te?n!==t&&(!n.updatedAt||n.updatedAt<Se)&&ut(n):l===ye&&be(n,t)}}}function dt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=ye,r.pure?B.push(r):Y.push(r),r.observers&&dt(r))}}function Oe(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),l=r.observers;if(l&&l.length){const s=l.pop(),o=r.observerSlots.pop();n<l.length&&(s.sourceSlots[o]=n,l[n]=s,r.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Oe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ft(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function We(e,t=k){throw Ft(e)}function Fe(e){if(typeof e=="function"&&!e.length)return Fe(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=Fe(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Ut(e,t){return function(n){let l;return O(()=>l=K(()=>(k.context={...k.context,[e]:n.value},qe(()=>n.children))),void 0),l}}const It=Symbol("fallback");function Je(e){for(let t=0;t<e.length;t++)e[t]()}function Dt(e,t,r={}){let n=[],l=[],s=[],o=0,i=t.length>1?[]:null;return Ke(()=>Je(s)),()=>{let a=e()||[],u,c;return a[Te],K(()=>{let d=a.length,f,h,m,b,w,L,S,E,R;if(d===0)o!==0&&(Je(s),s=[],n=[],l=[],o=0,i&&(i=[])),r.fallback&&(n=[It],l[0]=ce(Q=>(s[0]=Q,r.fallback())),o=1);else if(o===0){for(l=new Array(d),c=0;c<d;c++)n[c]=a[c],l[c]=ce(g);o=d}else{for(m=new Array(d),b=new Array(d),i&&(w=new Array(d)),L=0,S=Math.min(o,d);L<S&&n[L]===a[L];L++);for(S=o-1,E=d-1;S>=L&&E>=L&&n[S]===a[E];S--,E--)m[E]=l[S],b[E]=s[S],i&&(w[E]=i[S]);for(f=new Map,h=new Array(E+1),c=E;c>=L;c--)R=a[c],u=f.get(R),h[c]=u===void 0?-1:u,f.set(R,c);for(u=L;u<=S;u++)R=n[u],c=f.get(R),c!==void 0&&c!==-1?(m[c]=l[u],b[c]=s[u],i&&(w[c]=i[u]),c=h[c],f.set(R,c)):s[u]();for(c=L;c<d;c++)c in m?(l[c]=m[c],s[c]=b[c],i&&(i[c]=w[c],i[c](c))):l[c]=ce(g);l=l.slice(0,o=d),n=a.slice(0)}return l});function g(d){if(s[c]=d,i){const[f,h]=z(c);return i[c]=h,t(a[c],f)}return t(a[c])}}}function y(e,t){return K(()=>e(t||{}))}function me(){return!0}const jt={get(e,t,r){return t===q?r:e.get(t)},has(e,t){return t===q?!0:e.has(t)},set:me,deleteProperty:me,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:me,deleteProperty:me}},ownKeys(e){return e.keys()}};function Ee(e){return(e=typeof e=="function"?e():e)?e:{}}function Kt(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function Mt(...e){let t=!1;for(let o=0;o<e.length;o++){const i=e[o];t=t||!!i&&q in i,e[o]=typeof i=="function"?(t=!0,P(i)):i}if(t)return new Proxy({get(o){for(let i=e.length-1;i>=0;i--){const a=Ee(e[i])[o];if(a!==void 0)return a}},has(o){for(let i=e.length-1;i>=0;i--)if(o in Ee(e[i]))return!0;return!1},keys(){const o=[];for(let i=0;i<e.length;i++)o.push(...Object.keys(Ee(e[i])));return[...new Set(o)]}},jt);const r={},n=Object.create(null);for(let o=e.length-1;o>=0;o--){const i=e[o];if(!i)continue;const a=Object.getOwnPropertyNames(i);for(let u=a.length-1;u>=0;u--){const c=a[u];if(c==="__proto__"||c==="constructor")continue;const g=Object.getOwnPropertyDescriptor(i,c);if(!n[c])n[c]=g.get?{enumerable:!0,configurable:!0,get:Kt.bind(r[c]=[g.get.bind(i)])}:g.value!==void 0?g:void 0;else{const d=r[c];d&&(g.get?d.push(g.get.bind(i)):g.value!==void 0&&d.push(()=>g.value))}}}const l={},s=Object.keys(n);for(let o=s.length-1;o>=0;o--){const i=s[o],a=n[i];a&&a.get?Object.defineProperty(l,i,a):l[i]=a?a.value:void 0}return l}const qt=e=>`Stale read from <${e}>.`;function U(e){const t="fallback"in e&&{fallback:()=>e.fallback};return P(Dt(()=>e.each,e.children,t||void 0))}function D(e){const t=e.keyed,r=P(()=>e.when,void 0,{equals:(n,l)=>t?n===l:!n==!l});return P(()=>{const n=r();if(n){const l=e.children;return typeof l=="function"&&l.length>0?K(()=>l(t?n:()=>{if(!K(r))throw qt("Show");return e.when})):l}return e.fallback},void 0,void 0)}function Wt(e,t,r){let n=r.length,l=t.length,s=n,o=0,i=0,a=t[l-1].nextSibling,u=null;for(;o<l||i<s;){if(t[o]===r[i]){o++,i++;continue}for(;t[l-1]===r[s-1];)l--,s--;if(l===o){const c=s<n?i?r[i-1].nextSibling:r[s-i]:a;for(;i<s;)e.insertBefore(r[i++],c)}else if(s===i)for(;o<l;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===r[s-1]&&r[i]===t[l-1]){const c=t[--l].nextSibling;e.insertBefore(r[i++],t[o++].nextSibling),e.insertBefore(r[--s],c),t[l]=r[s]}else{if(!u){u=new Map;let g=i;for(;g<s;)u.set(r[g],g++)}const c=u.get(t[o]);if(c!=null)if(i<c&&c<s){let g=o,d=1,f;for(;++g<l&&g<s&&!((f=u.get(t[g]))==null||f!==c+d);)d++;if(d>c-i){const h=t[o];for(;i<c;)e.insertBefore(r[i++],h)}else e.replaceChild(r[i++],t[o++])}else o++;else t[o++].remove()}}}const Xe="_$DX_DELEGATE";function Ht(e,t,r,n={}){let l;return ce(s=>{l=s,t===document?e():p(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{l(),t.textContent=""}}function $(e,t,r){let n;const l=()=>{const o=document.createElement("template");return o.innerHTML=e,r?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>K(()=>document.importNode(n||(n=l()),!0)):()=>(n||(n=l())).cloneNode(!0);return s.cloneNode=s,s}function Pe(e,t=window.document){const r=t[Xe]||(t[Xe]=new Set);for(let n=0,l=e.length;n<l;n++){const s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,Zt))}}function G(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Vt(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const l=r[0];e.addEventListener(t,r[0]=s=>l.call(e,r[1],s))}else e.addEventListener(t,r)}function zt(e,t,r){if(!t)return r?G(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let l,s;for(s in r)t[s]==null&&n.removeProperty(s),delete r[s];for(s in t)l=t[s],l!==r[s]&&(n.setProperty(s,l),r[s]=l);return r}function p(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return $e(e,t,n,r);O(l=>$e(e,t(),l,r),n)}function Zt(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[t];if(n&&!r.disabled){const l=r[`${t}Data`];if(l!==void 0?n.call(r,l,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function $e(e,t,r,n,l){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,o=n!==void 0;if(e=o&&r[0]&&r[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),o){let i=r[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),r=ne(e,r,n,i)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t;else if(t==null||s==="boolean")r=ne(e,r,n);else{if(s==="function")return O(()=>{let i=t();for(;typeof i=="function";)i=i();r=$e(e,i,r,n)}),()=>r;if(Array.isArray(t)){const i=[],a=r&&Array.isArray(r);if(Ue(i,t,r,l))return O(()=>r=$e(e,i,r,n,!0)),()=>r;if(i.length===0){if(r=ne(e,r,n),o)return r}else a?r.length===0?Qe(e,i,n):Wt(e,r,i):(r&&ne(e),Qe(e,i));r=i}else if(t.nodeType){if(Array.isArray(r)){if(o)return r=ne(e,r,n,t);ne(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function Ue(e,t,r,n){let l=!1;for(let s=0,o=t.length;s<o;s++){let i=t[s],a=r&&r[e.length],u;if(!(i==null||i===!0||i===!1))if((u=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))l=Ue(e,i,a)||l;else if(u==="function")if(n){for(;typeof i=="function";)i=i();l=Ue(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||l}else e.push(i),l=!0;else{const c=String(i);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return l}function Qe(e,t,r=null){for(let n=0,l=t.length;n<l;n++)e.insertBefore(t[n],r)}function ne(e,t,r,n){if(r===void 0)return e.textContent="";const l=n||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(l!==i){const a=i.parentNode===e;!s&&!o?a?e.replaceChild(l,i):e.insertBefore(l,r):a&&i.remove()}else s=!0}}else e.insertBefore(l,r);return[l]}const Jt=!1;var Xt=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function Qt(...e){console.warn(...Xt(),...e)}const Ie=Symbol("store-raw"),se=Symbol("store-node"),W=Symbol("store-has"),ft=Symbol("store-self");function ht(e){let t=e[q];if(!t&&(Object.defineProperty(e,q,{value:t=new Proxy(e,tr)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let l=0,s=r.length;l<s;l++){const o=r[l];n[o].get&&Object.defineProperty(e,o,{enumerable:n[o].enumerable,get:n[o].get.bind(t)})}}return t}function we(e){let t;return e!=null&&typeof e=="object"&&(e[q]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ge(e,t=new Set){let r,n,l,s;if(r=e!=null&&e[Ie])return r;if(!we(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,i=e.length;o<i;o++)l=e[o],(n=ge(l,t))!==l&&(e[o]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,u=o.length;a<u;a++)s=o[a],!i[s].get&&(l=e[s],(n=ge(l,t))!==l&&(e[s]=n))}return e}function Ce(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function de(e,t,r){if(e[t])return e[t];const[n,l]=z(r,{equals:!1,internal:!0});return n.$=l,e[t]=n}function Yt(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===q||t===se||(delete r.value,delete r.writable,r.get=()=>e[q][t]),r}function mt(e){Re()&&de(Ce(e,se),ft)()}function er(e){return mt(e),Reflect.ownKeys(e)}const tr={get(e,t,r){if(t===Ie)return e;if(t===q)return r;if(t===Te)return mt(e),r;const n=Ce(e,se),l=n[t];let s=l?l():e[t];if(t===se||t===W||t==="__proto__")return s;if(!l){const o=Object.getOwnPropertyDescriptor(e,t);Re()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=de(n,t,s)())}return we(s)?ht(s):s},has(e,t){return t===Ie||t===q||t===Te||t===se||t===W||t==="__proto__"?!0:(Re()&&de(Ce(e,W),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:er,getOwnPropertyDescriptor:Yt};function ke(e,t,r,n=!1){if(!n&&e[t]===r)return;const l=e[t],s=e.length;r===void 0?(delete e[t],e[W]&&e[W][t]&&l!==void 0&&e[W][t].$()):(e[t]=r,e[W]&&e[W][t]&&l===void 0&&e[W][t].$());let o=Ce(e,se),i;if((i=de(o,t,l))&&i.$(()=>r),Array.isArray(e)&&e.length!==s){for(let a=e.length;a<s;a++)(i=o[a])&&i.$();(i=de(o,"length",s))&&i.$(e.length)}(i=o[ft])&&i.$()}function pt(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const l=r[n];ke(e,l,t[l])}}function rr(e,t){if(typeof t=="function"&&(t=t(e)),t=ge(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const l=t[r];e[r]!==l&&ke(e,r,l)}ke(e,"length",n)}else pt(e,t)}function ae(e,t,r=[]){let n,l=e;if(t.length>1){n=t.shift();const o=typeof n,i=Array.isArray(e);if(Array.isArray(n)){for(let a=0;a<n.length;a++)ae(e,[n[a]].concat(t),r);return}else if(i&&o==="function"){for(let a=0;a<e.length;a++)n(e[a],a)&&ae(e,[a].concat(t),r);return}else if(i&&o==="object"){const{from:a=0,to:u=e.length-1,by:c=1}=n;for(let g=a;g<=u;g+=c)ae(e,[g].concat(t),r);return}else if(t.length>1){ae(e[n],t,[n].concat(r));return}l=e[n],r=[n].concat(r)}let s=t[0];typeof s=="function"&&(s=s(l,r),s===l)||n===void 0&&s==null||(s=ge(s),n===void 0||we(l)&&we(s)&&!Array.isArray(s)?pt(l,s):ke(e,n,s))}function nr(...[e,t]){const r=ge(e||{}),n=Array.isArray(r),l=ht(r);function s(...o){rt(()=>{n&&o.length===1?rr(r,o[0]):ae(r,o)})}return[l,s]}Qt('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');function vt(){let e=new Set;function t(l){return e.add(l),()=>e.delete(l)}let r=!1;function n(l,s){if(r)return!(r=!1);const o={to:l,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const i of e)i.listener({...o,from:i.location,retry:a=>{a&&(r=!0),i.navigate(l,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:n}}let De;function He(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),De=window.history.state._depth}He();function lr(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function sr(e,t){let r=!1;return()=>{const n=De;He();const l=n==null?null:De-n;if(r){r=!1;return}l&&t(l)?(r=!0,window.history.go(-l)):e()}}const or=/^(?:[a-z0-9]+:)?\/\//i,ir=/^\/+|(\/)\/+$/g,yt="http://sr";function ue(e,t=!1){const r=e.replace(ir,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function pe(e,t,r){if(or.test(t))return;const n=ue(e),l=r&&ue(r);let s="";return!l||t.startsWith("/")?s=n:l.toLowerCase().indexOf(n.toLowerCase())!==0?s=n+l:s=l,(s||"/")+ue(t,!s)}function ar(e,t){return ue(e).replace(/\/*(\*.*)?$/g,"")+ue(t)}function bt(e){const t={};return e.searchParams.forEach((r,n)=>{t[n]=r}),t}function cr(e,t,r){const[n,l]=e.split("/*",2),s=n.split("/").filter(Boolean),o=s.length;return i=>{const a=i.split("/").filter(Boolean),u=a.length-o;if(u<0||u>0&&l===void 0&&!t)return null;const c={path:o?"":"/",params:{}},g=d=>r===void 0?void 0:r[d];for(let d=0;d<o;d++){const f=s[d],h=a[d],m=f[0]===":",b=m?f.slice(1):f;if(m&&Ge(h,g(b)))c.params[b]=h;else if(m||!Ge(h,f))return null;c.path+=`/${h}`}if(l){const d=u?a.slice(-u).join("/"):"";if(Ge(d,g(l)))c.params[l]=d;else return null}return c}}function Ge(e,t){const r=n=>n.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?r(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(r):t instanceof RegExp?t.test(e):!1}function ur(e){const[t,r]=e.pattern.split("/*",2),n=t.split("/").filter(Boolean);return n.reduce((l,s)=>l+(s.startsWith(":")?2:3),n.length-(r===void 0?0:1))}function $t(e){const t=new Map,r=lt();return new Proxy({},{get(n,l){return t.has(l)||st(r,()=>t.set(l,P(()=>e()[l]))),t.get(l)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function wt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let r=e.slice(0,t.index),n=e.slice(t.index+t[0].length);const l=[r,r+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(n);)l.push(r+=t[1]),n=n.slice(t[0].length);return wt(n).reduce((s,o)=>[...s,...l.map(i=>i+o)],[])}const gr=100,dr=Me(),Ve=Me();function fr(e,t=""){const{component:r,load:n,children:l,info:s}=e,o=!l||Array.isArray(l)&&!l.length,i={key:e,component:r,load:n,info:s};return Ct(e.path).reduce((a,u)=>{for(const c of wt(u)){const g=ar(t,c);let d=o?g:g.split("/*",1)[0];d=d.split("/").map(f=>f.startsWith(":")||f.startsWith("*")?f:encodeURIComponent(f)).join("/"),a.push({...i,originalPath:c,pattern:d,matcher:cr(d,!o,e.matchFilters)})}return a},[])}function hr(e,t=0){return{routes:e,score:ur(e[e.length-1])*1e4-t,matcher(r){const n=[];for(let l=e.length-1;l>=0;l--){const s=e[l],o=s.matcher(r);if(!o)return null;n.unshift({...o,route:s})}return n}}}function Ct(e){return Array.isArray(e)?e:[e]}function kt(e,t="",r=[],n=[]){const l=Ct(e);for(let s=0,o=l.length;s<o;s++){const i=l[s];if(i&&typeof i=="object"){i.hasOwnProperty("path")||(i.path="");const a=fr(i,t);for(const u of a){r.push(u);const c=Array.isArray(i.children)&&i.children.length===0;if(i.children&&!c)kt(i.children,u.pattern,r,n);else{const g=hr([...r],n.length);n.push(g)}r.pop()}}}return r.length?n:n.sort((s,o)=>o.score-s.score)}function St(e,t){for(let r=0,n=e.length;r<n;r++){const l=e[r].matcher(t);if(l)return l}return[]}function mr(e,t){const r=new URL(yt),n=P(a=>{const u=e();try{return new URL(u,r)}catch{return console.error(`Invalid path ${u}`),a}},r,{equals:(a,u)=>a.href===u.href}),l=P(()=>n().pathname),s=P(()=>n().search,!0),o=P(()=>n().hash),i=()=>"";return{get pathname(){return l()},get search(){return s()},get hash(){return o()},get state(){return t()},get key(){return i()},query:$t(nt(s,()=>bt(n())))}}let V;function pr(e,t,r,n={}){const{signal:[l,s],utils:o={}}=e,i=o.parsePath||(C=>C),a=o.renderPath||(C=>C),u=o.beforeLeave||vt(),c=pe("",n.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!l().value&&s({value:c,replace:!0,scroll:!1});const[g,d]=z(!1),f=async C=>{d(!0);try{await Nt(C)}finally{d(!1)}},[h,m]=z(l().value),[b,w]=z(l().state),L=mr(h,b),S=[],E=z([]),R={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(C){return pe(c,C)}};return O(()=>{const{value:C,state:x}=l();K(()=>{C!==h()&&f(()=>{V="native",m(C),w(x),E[1]([])}).then(()=>{V=void 0})})}),{base:R,location:L,isRouting:g,renderPath:a,parsePath:i,navigatorFactory:xe,beforeLeave:u,preloadRoute:F,singleFlight:n.singleFlight===void 0?!0:n.singleFlight,submissions:E};function Q(C,x,I){K(()=>{if(typeof x=="number"){x&&(o.go?o.go(x):console.warn("Router integration does not support relative routing"));return}const{replace:oe,resolve:Ae,scroll:re,state:ie}={replace:!1,resolve:!0,scroll:!0,...I},H=Ae?C.resolvePath(x):pe("",x);if(H===void 0)throw new Error(`Path '${x}' is not a routable path`);if(S.length>=gr)throw new Error("Too many redirects");const Ze=h();if((H!==Ze||ie!==b())&&!Jt){if(u.confirm(H,I)){const Lt=S.push({value:Ze,replace:oe,scroll:re,state:b()});f(()=>{V="navigate",m(H),w(ie),E[1]([])}).then(()=>{S.length===Lt&&(V=void 0,N({value:H,state:ie}))})}}})}function xe(C){return C=C||ot(Ve)||R,(x,I)=>Q(C,x,I)}function N(C){const x=S[0];x&&((C.value!==x.value||C.state!==x.state)&&s({...C,replace:x.replace,scroll:x.scroll}),S.length=0)}function F(C,x){const I=St(r(),C.pathname),oe=V;V="preload";for(let Ae in I){const{route:re,params:ie}=I[Ae];re.component&&re.component.preload&&re.component.preload();const{load:H}=re;x&&H&&st(t(),()=>H({params:ie,location:{pathname:C.pathname,search:C.search,hash:C.hash,query:bt(C),state:null,key:""},intent:"preload"}))}V=oe}}function vr(e,t,r,n,l){const{base:s,location:o}=e,{pattern:i,component:a,load:u}=n().route,c=P(()=>n().path);a&&a.preload&&a.preload();const g=u?u({params:l,location:o,intent:V||"initial"}):void 0;return{parent:t,pattern:i,path:c,params:l,outlet:()=>a?y(a,{params:l,location:o,data:g,get children(){return r()}}):r(),resolvePath(f){return pe(s.path(),f,c())}}}const yr=e=>t=>{const{base:r}=t,n=qe(()=>t.children),l=P(()=>kt(t.root?{component:t.root,load:t.rootLoad,children:n()}:n(),t.base||""));let s;const o=pr(e,()=>s,l,{base:r,singleFlight:t.singleFlight});return e.create&&e.create(o),y(dr.Provider,{value:o,get children(){return[P(()=>(s=lt())&&null),y(br,{routerState:o,get branches(){return l()}})]}})};function br(e){const t=P(()=>St(e.branches,e.routerState.location.pathname)),r=$t(()=>{const o=t(),i={};for(let a=0;a<o.length;a++)Object.assign(i,o[a].params);return i}),n=[];let l;const s=P(nt(t,(o,i,a)=>{let u=i&&o.length===i.length;const c=[];for(let g=0,d=o.length;g<d;g++){const f=i&&i[g],h=o[g];a&&f&&h.route.key===f.route.key?c[g]=a[g]:(u=!1,n[g]&&n[g](),ce(m=>{n[g]=m,c[g]=vr(e.routerState,c[g-1]||e.routerState.base,$r(()=>s()[g+1]),()=>t()[g],r)}))}return n.splice(o.length).forEach(g=>g()),a&&u?a:(l=c[0],c)}));return y(D,{get when(){return s()&&l},keyed:!0,children:o=>y(Ve.Provider,{value:o,get children(){return o.outlet()}})})}const $r=e=>()=>y(D,{get when(){return e()},keyed:!0,children:t=>y(Ve.Provider,{value:t,get children(){return t.outlet()}})}),Be=e=>{const t=qe(()=>e.children);return Mt(e,{get children(){return t()}})};function wr([e,t],r,n){return[r?()=>r(e()):e,n?l=>t(n(l)):t]}function Cr(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function kr(e){let t=!1;const r=l=>typeof l=="string"?{value:l}:l,n=wr(z(r(e.get()),{equals:(l,s)=>l.value===s.value}),void 0,l=>(!t&&e.set(l),l));return e.init&&Ke(e.init((l=e.get())=>{t=!0,n[1](r(l)),t=!1})),yr({signal:n,create:e.create,utils:e.utils})}function Sr(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function _r(e,t){const r=Cr(`#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}const Or=new Map;function Pr(e=!0,t=!1,r="/_server"){return n=>{const l=n.base.path(),s=n.navigatorFactory(n.base);let o={};function i(h){return h.namespaceURI==="http://www.w3.org/2000/svg"}function a(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const m=h.composedPath().find(R=>R instanceof Node&&R.nodeName.toUpperCase()==="A");if(!m||t&&!m.hasAttribute("link"))return;const b=i(m),w=b?m.href.baseVal:m.href;if((b?m.target.baseVal:m.target)||!w&&!m.hasAttribute("state"))return;const S=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||S&&S.includes("external"))return;const E=b?new URL(w,document.baseURI):new URL(w);if(!(E.origin!==window.location.origin||l&&E.pathname&&!E.pathname.toLowerCase().startsWith(l.toLowerCase())))return[m,E]}function u(h){const m=a(h);if(!m)return;const[b,w]=m,L=n.parsePath(w.pathname+w.search+w.hash),S=b.getAttribute("state");h.preventDefault(),s(L,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:S&&JSON.parse(S)})}function c(h){const m=a(h);if(!m)return;const[b,w]=m;o[w.pathname]||n.preloadRoute(w,b.getAttribute("preload")!=="false")}function g(h){const m=a(h);if(!m)return;const[b,w]=m;o[w.pathname]||(o[w.pathname]=setTimeout(()=>{n.preloadRoute(w,b.getAttribute("preload")!=="false"),delete o[w.pathname]},200))}function d(h){const m=a(h);if(!m)return;const[,b]=m;o[b.pathname]&&(clearTimeout(o[b.pathname]),delete o[b.pathname])}function f(h){let m=h.submitter&&h.submitter.hasAttribute("formaction")?h.submitter.getAttribute("formaction"):h.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const w=new URL(m,yt);if(m=n.parsePath(w.pathname+w.search),!m.startsWith(r))return}if(h.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=Or.get(m);if(b){h.preventDefault();const w=new FormData(h.target);h.submitter&&h.submitter.name&&w.append(h.submitter.name,h.submitter.value),b.call(n,w)}}Pe(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mouseover",g),document.addEventListener("mouseout",d),document.addEventListener("focusin",c),document.addEventListener("touchstart",c)),document.addEventListener("submit",f),Ke(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mouseover",g),document.removeEventListener("mouseout",d),document.removeEventListener("focusin",c),document.removeEventListener("touchstart",c)),document.removeEventListener("submit",f)})}}function xr(e){const t=()=>({value:window.location.pathname+window.location.search+window.location.hash,state:window.history.state}),r=vt();return kr({get:t,set({value:n,replace:l,scroll:s,state:o}){l?window.history.replaceState(lr(o),"",n):window.history.pushState(o,"",n),_r(window.location.hash.slice(1),s),He()},init:n=>Sr(window,"popstate",sr(n,l=>{if(l&&l<0)return!r.confirm(l);{const s=t();return!r.confirm(s.value,{state:s.state})}})),create:Pr(e.preload,e.explicitLinks,e.actionBase),utils:{go:n=>window.history.go(n),beforeLeave:r}})(e)}const Ar=({initialState:e}={})=>{const[t,r]=nr({isLured:!1,showOrgView:!0,selectedOrgGags:Array.from({length:4},()=>null),hideLvl13UpCogs:!1,level4UpGagsOnly:!1,...e});return new class{getIsLured=()=>t.isLured;toggleIsLured=()=>r("isLured",n=>!n);setIsLured=n=>r("isLured",n);getShowOrgView=()=>t.showOrgView;toggleShowOrgView=()=>r("showOrgView",n=>!n);getSelectedOrgGags=()=>t.selectedOrgGags;setOrToggleSelectedOrgGag=(n,l)=>{r("selectedOrgGags",n,s=>l===s?null:l)};resetSelectedOrgGags=()=>{r("selectedOrgGags",Array.from({length:4},()=>null))};getSelectedOrgGagTrackCounts=P(()=>this.getSelectedOrgGags().reduce((n,l)=>(l!==null&&n[l]++,n),{toonup:0,trap:0,lure:0,sound:0,throw:0,squirt:0,drop:0}));getHideLvl13UpCogs=()=>t.hideLvl13UpCogs;toggleHideLvl13UpCogs=()=>r("hideLvl13UpCogs",n=>!n);getLevel4UpGagsOnly=()=>t.level4UpGagsOnly;toggleLevel4UpGagsOnly=()=>r("level4UpGagsOnly",n=>!n);getMaxCogLvl=()=>t.hideLvl13UpCogs?12:20;getStateForStorage=()=>({isLured:t.isLured,showOrgView:t.showOrgView,selectedOrgGags:t.selectedOrgGags,hideLvl13UpCogs:t.hideLvl13UpCogs,level4UpGagsOnly:t.level4UpGagsOnly})}},Ye="savedState",Lr=()=>{const e=localStorage.getItem(Ye);if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error(`Error parsing localStorage item '${Ye}'`,t),null}},le=e=>{localStorage.setItem("savedState",JSON.stringify(e))},_t=Me(),Er=e=>{const t=Lr()??void 0,r=Ar({initialState:t});return y(_t.Provider,{value:r,get children(){return e.children}})},he=()=>ot(_t);var A=(e=>(e.toonup="toonup",e.trap="trap",e.lure="lure",e.sound="sound",e.throw="throw",e.squirt="squirt",e.drop="drop",e))(A||{});const Gr=Object.values(A),et={toonup:0,trap:1,lure:2,sound:3,throw:4,squirt:5,drop:6},je={toonup:{1:{name:"Feather",damage:0},2:{name:"Megaphone",damage:0},3:{name:"Lipstick",damage:0},4:{name:"Bamboo Cane",damage:0},5:{name:"Pixie Dust",damage:0},6:{name:"Juggling Cubes",damage:0},7:{name:"High Dive",damage:0}},lure:{1:{name:"$1 Bill",damage:0},2:{name:"Small Magnet",damage:0},3:{name:"$5 Bill",damage:0},4:{name:"Big Magnet",damage:0},5:{name:"$10 Bill",damage:0},6:{name:"Hypno-goggles",damage:0},7:{name:"Presentation",damage:0}},trap:{1:{name:"Banana Peel",damage:12},2:{name:"Rake",damage:20},3:{name:"Marbles",damage:35},4:{name:"Quicksand",damage:50},5:{name:"Trapdoor",damage:85},6:{name:"TNT",damage:180},7:{name:"Railroad",damage:200}},sound:{1:{name:"Bike Horn",damage:4},2:{name:"Whistle",damage:7},3:{name:"Bugle",damage:11},4:{name:"Aoogah",damage:16},5:{name:"Elephant Trunk",damage:21},6:{name:"Foghorn",damage:50},7:{name:"Opera Singer",damage:90}},throw:{1:{name:"Cupcake",damage:6},2:{name:"Fruit Pie Slice",damage:10},3:{name:"Cream Pie Slice",damage:17},4:{name:"Whole Fruit Pie",damage:27},5:{name:"Whole Cream Pie",damage:40},6:{name:"Birthday Cake",damage:100},7:{name:"Wedding Cake",damage:120}},squirt:{1:{name:"Squirting Flower",damage:4},2:{name:"Glass of Water",damage:8},3:{name:"Squirt Gun",damage:12},4:{name:"Seltzer Bottle",damage:21},5:{name:"Fire Hose",damage:30},6:{name:"Storm Cloud",damage:80},7:{name:"Geyser",damage:105}},drop:{1:{name:"Flower Pot",damage:10},2:{name:"Sandbag",damage:18},3:{name:"Anvil",damage:30},4:{name:"Big Weight",damage:45},5:{name:"Safe",damage:70},6:{name:"Grand Piano",damage:170},7:{name:"Toontanic",damage:180}}},ee={1:6,2:12,3:20,4:30,5:42,6:56,7:72,8:90,9:110,10:132,11:156,12:196,13:224,14:254,15:286,16:320,17:356,18:394,19:434,20:476},Br="/toontown-combos/",ze={toonup:"Toon-Up",trap:"Trap",lure:"Lure",sound:"Sound",throw:"Throw",squirt:"Squirt",drop:"Drop"};var v=(e=>(e[e.ClerkWill=0]="ClerkWill",e[e.ClerkPenny=1]="ClerkPenny",e[e.ClerkClara=2]="ClerkClara",e[e.BarbaraSeville=3]="BarbaraSeville",e[e.SidSonata=4]="SidSonata",e[e.MoeZart=5]="MoeZart",e[e.ClumsyNed=6]="ClumsyNed",e[e.FranzNeckvein=7]="FranzNeckvein",e[e.BarnacleBessie=8]="BarnacleBessie",e))(v||{});function*Ot(e,t){let r=[];for(const n of t)r.push(n),r.length===e&&(yield r,r=[]);r.length>0&&(yield r)}function*Pt(e,t,r=1){if(r===0)throw new Error("Step cannot be zero.");if(e<t&&r<0||e>t&&r>0)throw new Error("Invalid range: step direction does not match range direction.");if(r>0)for(let n=e;n<=t;n+=r)yield n;else for(let n=e;n>=t;n+=r)yield n}function*Nr({maxCogLvl:e,organicGags:t,isLured:r,minGagLvl:n}){const l={isLured:r,organicGags:t,minGagLvl:n},s=["sound","throw","squirt"];for(let o=e;o>=1;o--)for(const i of s)for(let a=4;a>=1;a--)yield{...l,cogLvl:o,gags:{[i]:a}}}const j=e=>`${Br}${e}`,T=({track:e,lvl:t})=>{const r=t===0?"None":je[e][t].name.replace(/\s/g,"_");return j(`gag_icons/${r}.png`)},xt=e=>{const t=(()=>{switch(e){case v.ClerkWill:return"clerk-will";case v.ClerkPenny:return"clerk-penny";case v.ClerkClara:return"clerk-clara";case v.BarbaraSeville:return"barbara-seville";case v.SidSonata:return"sid-sonata";case v.MoeZart:return"moe-zart";case v.ClumsyNed:return"clumsy-ned";case v.FranzNeckvein:return"franz-neckvein";case v.BarnacleBessie:return"barnacle-bessie";default:throw new Error(`Unmatched SosToons value '${e}'`)}})();return j(`${t}.png`)};var Tr=$("<nav id=nav><div id=nav-content><img id=nav-logo><span id=nav-title>Toontown<br>Combos</span><ul><li><a>Calculator</a></li><div class=navlink-sep></div><li><a>Combo Grid");const Rr=()=>(()=>{var e=Tr(),t=e.firstChild,r=t.firstChild,n=r.nextSibling,l=n.nextSibling,s=l.firstChild,o=s.firstChild,i=s.nextSibling,a=i.nextSibling,u=a.firstChild;return O(c=>{var g=j("favicon.ico"),d=j("calc"),f=j("grid");return g!==c.e&&G(r,"src",c.e=g),d!==c.t&&G(o,"href",c.t=d),f!==c.a&&G(u,"href",c.a=f),c},{e:void 0,t:void 0,a:void 0}),e})();var Fr=$("<div class=combo><span class=combo-dmg></span><div class=gags>"),Ur=$("<div class=gag-icon-container><img class=gag-icon>"),Ir=$("<span class=org>Org");const Dr=e=>y(D,{get when(){return e.combo.damageKillsCog()},get children(){var t=Fr(),r=t.firstChild,n=r.nextSibling;return p(r,()=>e.combo.damage()),p(n,y(U,{get each(){return e.combo.combo.gags},children:l=>(()=>{var s=Ur(),o=s.firstChild;return p(s,(()=>{var i=P(()=>!!l.isOrg);return()=>i()&&Ir()})(),null),O(i=>{var a=l.isOrg?`var(--${l.track})`:"unset",u=T({track:l.track,lvl:l.lvl});return a!==i.e&&((i.e=a)!=null?s.style.setProperty("background",a):s.style.removeProperty("background")),u!==i.t&&G(o,"src",i.t=u),i},{e:void 0,t:void 0}),s})()})),t}});var jr=$("<div class=cog-lvl-cell><div class=cog-icon-container><img></div><div><span class=cog-lvl></span><span class=cog-hp></span><span class=hp>HP"),Kr=$("<span>Lured");const Mr=e=>{const t=he(),r=()=>ee[e.cogLvl],n=()=>e.cogLvl>14?"field-office":e.cogLvl.toString();return(()=>{var l=jr(),s=l.firstChild,o=s.firstChild,i=s.nextSibling,a=i.firstChild,u=a.nextSibling;return p(s,(()=>{var c=P(()=>!!t.getIsLured());return()=>c()&&Kr()})(),null),p(a,()=>e.cogLvl),p(u,r),O(c=>{var g=j(`cog_icons/${n()}.png`),d=t.getIsLured()?"var(--lure)":"unset";return g!==c.e&&G(o,"src",c.e=g),d!==c.t&&((c.t=d)!=null?o.style.setProperty("background",d):o.style.removeProperty("background")),c},{e:void 0,t:void 0}),l})()},qr=()=>{const e=he(),t=P(()=>{const r=e.getMaxCogLvl(),n=[];for(let l=r;l>=1;l--)n.push(l);return n});return y(U,{get each(){return t()},children:r=>y(Mr,{cogLvl:r})})};var Wr=$("<ul class=org-gag-track-list role=listbox>"),Hr=$("<li role=option><button><div class=img-container><img></div><span>");const Vr=e=>{const t=he(),r=()=>t.getSelectedOrgGags()[e.toonIdx],n=(l,s)=>{t.setOrToggleSelectedOrgGag(l,s),le(t.getStateForStorage())};return(()=>{var l=Wr();return p(l,y(U,{each:Gr,children:s=>{const o=()=>r()===s?`var(--${s})`:"transparent";return(()=>{var i=Hr(),a=i.firstChild,u=a.firstChild,c=u.firstChild,g=u.nextSibling;return a.$$click=()=>n(e.toonIdx,s),p(g,()=>ze[s]),O(d=>{var f=o(),h=T({track:s,lvl:1});return f!==d.e&&((d.e=f)!=null?i.style.setProperty("background",f):i.style.removeProperty("background")),h!==d.t&&G(c,"src",d.t=h),d},{e:void 0,t:void 0}),i})()}})),l})()};Pe(["click"]);var zr=$("<ul class=org-selection-list>"),Zr=$("<li><div class=toon-num>Toon ");const Jr=()=>(()=>{var e=zr();return p(e,y(U,{get each(){return Array.from({length:4})},children:(t,r)=>(()=>{var n=Zr(),l=n.firstChild;return l.firstChild,p(l,()=>r()+1,null),p(n,y(Vr,{get toonIdx(){return r()}}),null),n})()})),e})();var Xr=$("<ul class=org-selection-preview-list>"),Qr=$("<li role=option class=org-selection-preview-list-item>"),Yr=$("<div class=img-container><img>"),en=$("<span>");const tn=()=>{const e=he();return y(D,{get when(){return e.getSelectedOrgGags().some(t=>t!==null)},get children(){var t=Xr();return p(t,y(U,{get each(){return Array.from({length:4})},children:(r,n)=>{const l=e.getSelectedOrgGags()[n()],s=l!==null?`var(--${l})`:"transparent";return(()=>{var o=Qr();return s!=null?o.style.setProperty("background",s):o.style.removeProperty("background"),p(o,l!==null&&[(()=>{var i=Yr(),a=i.firstChild;return O(()=>G(a,"src",T({track:l,lvl:1}))),i})(),(()=>{var i=en();return p(i,()=>ze[l]),i})()]),o})()}})),t}})};class rn{lvl;isLured;constructor({lvl:t,isLured:r}){this.lvl=t,this.isLured=r}get hp(){return ee[this.lvl]}toString(){return`Cog(level: ${this.lvl}, HP: ${this.hp})`}}class J{track;lvl;isOrg;constructor({track:t,lvl:r,isOrg:n=!1}){this.track=t,this.lvl=r,this.isOrg=n}static fromGag(t){return new J({track:t.track,lvl:t.lvl,isOrg:t.isOrg})}get name(){return this.lvl===0?"None":je[this.track][this.lvl].name}get damage(){if(this.lvl===0)return 0;const t=je[this.track][this.lvl].damage;return this.isOrg&&t>0?t<10?t+1:Math.floor(t*1.1):t}multipliers(t,r){return this.lvl===0?{multi:!1,knockback:!1}:this.track===A.toonup||this.track===A.trap||this.track===A.lure?{multi:!1,knockback:!1}:{multi:t.trackCounts()[this.track]>=2,knockback:this.knockback(t,r)}}multiplier(t,r){const n=this.multipliers(t,r);return 1+(n.multi?.2:0)+(n.knockback?.5:0)}knockback(t,r){const n=t.trackCounts();return(!r||!r.isLured)&&n.lure===0||n.trap>0||n.sound>0?!1:this.track==="throw"||this.track==="squirt"&&n.throw===0}toString(){return`Gag(name: ${this.name}, level: ${this.lvl}, damage: ${this.damage}, isOrg: ${this.isOrg})`}}class M extends J{sosToon;constructor(t){super({track:M.getTrackFromSosToon(t),lvl:99,isOrg:!1}),this.sosToon=t}static getTrackFromSosToon(t){switch(t){case v.ClerkWill:case v.ClerkPenny:case v.ClerkClara:return A.trap;case v.BarbaraSeville:case v.SidSonata:case v.MoeZart:return A.sound;case v.ClumsyNed:case v.FranzNeckvein:case v.BarnacleBessie:return A.drop;default:throw new Error(`Unmatched SosToons value '${t}'`)}}get name(){switch(this.sosToon){case v.ClerkWill:return"Clerk Will";case v.ClerkPenny:return"Clerk Penny";case v.ClerkClara:return"Clerk Clara";case v.BarbaraSeville:return"Barbara Seville";case v.SidSonata:return"Sid Sonata";case v.MoeZart:return"Moe Zart";case v.ClumsyNed:return"Clumsy Ned";case v.FranzNeckvein:return"Franz Neckvein";case v.BarnacleBessie:return"Barnacle Bessie";default:throw new Error(`Unmatched SosToons value '${this.sosToon}'`)}}get damage(){switch(this.sosToon){case v.ClerkWill:return 60;case v.ClerkPenny:return 120;case v.ClerkClara:return 180;case v.BarbaraSeville:return 35;case v.SidSonata:return 55;case v.MoeZart:return 75;case v.ClumsyNed:return 60;case v.FranzNeckvein:return 100;case v.BarnacleBessie:return 170;default:throw new Error(`Unmatched SosToons value '${this.sosToon}'`)}}}class Z{gags;constructor({gags:t}){this.gags=t}static fromCombo(t){return new Z({gags:t.gags.map(r=>J.fromGag(r))})}static cleanGagCounts(t){return Object.values(A).reduce((r,n)=>(t.hasOwnProperty(n)&&t[n]>0&&(r[n]=t[n]),r),{})}trackCounts(){return this.gags.reduce((t,r)=>(r.lvl!==0&&(t[r.track]+=1),t),Object.fromEntries(Object.values(A).map(t=>[t,0])))}gagsGroupedByTrack(){const t=this.gags.filter(n=>n.lvl!==0).sort(fe);if(t.length===0)return[];const r=[[t[0]]];for(let n=1;n<t.length;n++)t[n].track===t[n-1].track?r[r.length-1].push(t[n]):r.push([t[n]]);return r}damage(t,r){return this.gagsGroupedByTrack().reduce((n,l)=>r&&l[0].track!==r||l[0].track===A.trap&&l.length>=2?n:n+Math.ceil(l.reduce((s,o)=>s+o.damage,0)*l[0].multiplier(this,t)),0)}damageKillsCog(t){return this.damage(t)>=t.hp}toString(t){return`Combo(damage: ${this.damage(t)} gags: [
${this.gags.map(r=>`  ${r}`).join(`,
`)}
])`}}class nn{combo;cog;gagsInput;organicGagsInput;constructor({combo:t,cog:r,gagsInput:n,organicGagsInput:l}){this.combo=t,this.cog=r,this.gagsInput=Z.cleanGagCounts(n??{}),this.organicGagsInput=Z.cleanGagCounts(l??{})}inputKey(){const t={lvl:this.cog.lvl,isLured:this.cog.isLured},r=this.gagsInput,n=this.organicGagsInput;return{cog:t,gags:r,organicGags:n}}outputKey(){const t=[...this.combo.gags].sort(fe).map(n=>{const l=n.damage,{lvl:s,track:o}=n,{multi:i,knockback:a}=n.multipliers(this.combo,this.cog);return{track:o,lvl:s,dmg:l,multi:i,knockback:a}});return{dmg:this.combo.damage(this.cog),gags:t}}damage(){return this.combo.damage(this.cog)}damageKillsCog(){return this.combo.damageKillsCog(this.cog)}}function ln({cogLvl:e,isLured:t,gags:r,organicGags:n,minGagLvl:l=null}){let s=0;for(const[u,c]of Object.entries(r)){if(!A.hasOwnProperty(u))throw new Error(`Unrecognized gag track key '${u}' in \`gags\` argument. Must be one of: ${Object.values(A).map(g=>"'"+g+"'").join(", ")}`);if(typeof c!="number"||isNaN(c))throw new Error(`Values in \`gags\` argument must be a number. For key '${u}' got value '${c}'.`);if(u==="trap"&&c>1)throw new Error("Cannot specify multiple trap gags, must be 0 or 1.");s+=c}if(s<1||s>4)throw new Error(`Sum of values in \`gags\` argument must be 1 <= n <= 4. Received ${s}.`);if(l!==null&&(l<1||l>7))throw new Error(`\`minGagLvl\` argument must be 1 <= n <= 7. Received ${l}.`);const o=Object.entries(r).reduce((u,[c,g])=>{for(let d=0;d<g;d++){const f=d<=(n[c]??0)-1;u.push(new J({track:c,lvl:l??1,isOrg:f}))}return u},[]);o.sort((u,c)=>c.damage-u.damage);const i=new rn({lvl:e,isLured:t});let a=new Z({gags:o});return a=sn(a,i,l),a.gags.sort(fe),new nn({combo:a,cog:i,gagsInput:r,organicGagsInput:n})}function sn(e,t,r){for(;!e.damageKillsCog(t);){for(const s of e.gags)s.lvl!==7&&(s.lvl+=1);if(e.gags.every(s=>s.lvl===7))break}if(!e.damageKillsCog(t))return e.gags=e.gags.map(s=>new J({track:s.track,lvl:0,isOrg:s.isOrg})),e;const n=e.trackCounts().drop>0;let l=0;for(;l!==e.gags.length-1;)for(l=e.gags.length-1;l>=0&&e.gags[l].lvl!==0;l--)if(r!==null&&e.gags[l].lvl===r){if(e.gags[l].lvl=0,!e.damageKillsCog(t)){e.gags[l].lvl=r;break}}else if(e.gags[l].lvl-=1,!e.damageKillsCog(t)){e.gags[l].lvl+=1;break}for(let s=0;s<e.gags.length;s++)e.gags[s].isOrg=!1,e.damageKillsCog(t)||(e.gags[s].isOrg=!0);if(n)for(let s=0;s<e.gags.length;s++)e.gags[s].track!=="drop"&&e.gags[s].lvl===0&&(e.gags[s].lvl=1);return e}function fe(e,t){const r=et[e.track]-et[t.track];return r!==0?r:t.damage-e.damage}var on=$("<div id=combo-grid><div style=flex-grow:1;overflow:hidden;><div id=combos><div id=cog-lvl-column></div><div id=combos-grid></div></div></div><div id=combo-grid-settings><label><input type=checkbox id=hide-lvl-13-up-cogs>Hide Level 13+ Cogs</label><label><input type=checkbox id=level-4-up-gags-only>Level 4+ Gags Only</label></div><div id=is-cog-lured><button><img><span>Is Cog Lured?</span></button></div><div style=display:flex;justify-content:center;><button id=expand-org> organic gags selection"),an=$("<div class=combo-cell>"),cn=$("<div id=org-selection-container><div id=org-selection-header><h4>Select Your Party's Organic Gags</h4><button id=clear-selection>Clear Selection</button></div><div id=org-selection>"),un=$("<div id=org-selection-preview>");const gn=()=>{const e=he(),t=P(()=>{const a=e.getMaxCogLvl(),u=e.getSelectedOrgGagTrackCounts(),c=e.getIsLured(),d=e.getLevel4UpGagsOnly()?4:null;return Array.from(Nr({maxCogLvl:a,organicGags:u,isLured:c,minGagLvl:d}),f=>ln(f))}),r=a=>{e.toggleHideLvl13UpCogs(),le(e.getStateForStorage())},n=a=>{e.toggleLevel4UpGagsOnly(),le(e.getStateForStorage())},l=a=>{e.toggleIsLured(),le(e.getStateForStorage())},s=a=>{e.toggleShowOrgView(),le(e.getStateForStorage())},o=a=>{rt(()=>{e.resetSelectedOrgGags(),e.setIsLured(!1)}),le(e.getStateForStorage())},i=()=>`repeat(${e.getMaxCogLvl()}, 140px) / repeat(3, minmax(min-content, 250px))`;return(()=>{var a=on(),u=a.firstChild,c=u.firstChild,g=c.firstChild,d=g.nextSibling,f=u.nextSibling,h=f.firstChild,m=h.firstChild,b=h.nextSibling,w=b.firstChild,L=f.nextSibling,S=L.firstChild,E=S.firstChild,R=L.nextSibling,Q=R.firstChild,xe=Q.firstChild;return p(g,y(qr,{})),p(d,y(U,{get each(){return Array.from(Ot(4,t()))},children:N=>(()=>{var F=an();return p(F,y(U,{each:N,children:C=>y(Dr,{combo:C})})),F})()})),m.$$click=r,w.$$click=n,S.$$click=l,Q.$$click=s,p(Q,()=>e.getShowOrgView()?"Hide":"Show",xe),p(a,(()=>{var N=P(()=>!!e.getShowOrgView());return()=>N()?(()=>{var F=cn(),C=F.firstChild,x=C.firstChild,I=x.nextSibling,oe=C.nextSibling;return I.$$click=o,p(oe,y(Jr,{})),F})():(()=>{var F=un();return p(F,y(tn,{})),F})()})(),null),O(N=>{var F=`repeat(${e.getMaxCogLvl()}, 140px)`,C=i(),x=e.getIsLured()?"var(--lure)":"unset",I=T({track:"lure",lvl:1});return F!==N.e&&((N.e=F)!=null?g.style.setProperty("grid-template-rows",F):g.style.removeProperty("grid-template-rows")),C!==N.t&&((N.t=C)!=null?d.style.setProperty("grid-template",C):d.style.removeProperty("grid-template")),x!==N.a&&((N.a=x)!=null?S.style.setProperty("background",x):S.style.removeProperty("background")),I!==N.o&&G(E,"src",N.o=I),N},{e:void 0,t:void 0,a:void 0,o:void 0}),O(()=>m.checked=e.getHideLvl13UpCogs()),O(()=>w.checked=e.getLevel4UpGagsOnly()),a})()};Pe(["click"]);var dn=$("<div id=calc-page><div id=calc-page-how-to><ul><li>Left-click to select a gag</li><li>Right-click to select an organic gag</li><li><span>Or click the organic icon&nbsp;</span><span><img></span><span>&nbsp;of a selected gag to toggle organic</span></li><li>Left-click a selected gag to deselect it"),fn=$("<div id=calc-gag-grid>"),hn=$('<div class="calc-gag-row no-drag"><div class=calc-gag-row-track-label>'),mn=$("<button class=calc-gag-grid-cell><img class=no-drag>"),pn=$("<div class=sos-toons>"),vn=$('<button class=calc-gag-grid-cell><img class="no-drag sos-toon-icon"><img class="no-drag sos-toon-gag-icon">'),yn=$("<table id=cogs-hp><tbody>"),bn=$("<tr>"),$n=$("<td class=cogs-hp-cell><div class=cogs-hp-lvl></div><div class=cogs-hp-hp></div><div class=cogs-hp-remaining>"),wn=$("<button id=clear-gags-btn>Clear all gags (<!>)"),Cn=$("<div id=combo-info><div id=selected-gags>"),kn=$("<div id=combo-info-result><div><img width=60 height=60></div><table><tbody><tr><td class=cogs-hp-cell><div class=cogs-hp-lvl>Level: </div><div class=cogs-hp-hp>HP: </div><div class=cogs-hp-remaining>Remaining: </div></td></tr></tbody></table><div><span id=combo-info-result-dmg></span><label id=combo-info-result-dmg-label for=combo-info-result-dmg>Damage"),Sn=$("<span class=multi-trap-warning>Multiple trap present in combo, damage negated"),_n=$("<div>+20% Same type bonus"),On=$("<div>+50% Lure knockback bonus"),Pn=$("<div class=select-gag-multipliers><hr><div>Damage: "),xn=$("<div class=selected-gag><div>"),An=$("<button class=selected-org-img-container><img>"),Ln=$("<span class=selected-gag-base-dmg>"),En=$("<div class=selected-gag-img-and-name><button class=selected-gag-img-container></button><span class=selected-gag-name>"),Gn=$('<img class="no-drag sos-toon-icon">'),Bn=$('<img class="no-drag sos-toon-gag-icon">'),Nn=$("<img>");const Tn=()=>{const[e,t]=z(new Z({gags:[]}),{equals:!1}),r=(a,u)=>{u.ctrlKey||u.shiftKey||u.altKey||(u.preventDefault(),t(c=>c?(c.gags.push(new J(a)),c.gags.sort(fe),c):new Z({gags:[new J(a)]})))},n=(a,u)=>{t(c=>c?(c.gags.push(new M(a.sosToon)),c.gags.sort(fe),c):new Z({gags:[new M(a.sosToon)]}))},l=(a,u)=>{if(!(u.ctrlKey||u.shiftKey||u.altKey))switch(u.preventDefault(),a.action){case 0:{t(c=>(c.gags=c.gags.filter(g=>g!==a.gag),c));break}case 1:{i(a.gag);break}}},s=a=>{t(u=>(u.gags=[],u))},o=(a,u)=>{i(a.gag)},i=a=>{t(u=>{const c=u.gags.find(g=>g===a);return c.isOrg=!a.isOrg,u})};return(()=>{var a=dn(),u=a.firstChild,c=u.firstChild,g=c.firstChild,d=g.nextSibling,f=d.nextSibling,h=f.firstChild,m=h.nextSibling,b=m.firstChild;return p(a,y(Rn,{onClickGag:r,onClickGridSosToonGag:n}),u),p(a,y(Un,{get comboDamage(){return e()?.damage?.()??0}}),u),p(a,y(In,{get combo(){return e()},onClickOrgToggle:o,onClickSelectedGag:l,onClickClearGags:s}),u),m.style.setProperty("position","relative"),m.style.setProperty("padding-right","1.1rem"),b.style.setProperty("position","absolute"),b.style.setProperty("top","0"),b.style.setProperty("left","0"),b.style.setProperty("width","1.1rem"),b.style.setProperty("height","1.1rem"),O(()=>G(b,"src",j("Organic.png"))),a})()},Rn=e=>(()=>{var t=fn();return p(t,y(U,{get each(){return Object.values(A)},children:r=>(()=>{var n=hn(),l=n.firstChild;return`var(--${r})`!=null?n.style.setProperty("background",`var(--${r})`):n.style.removeProperty("background"),p(l,()=>ze[r]),p(n,y(U,{get each(){return[...Pt(1,7)]},children:s=>(()=>{var o=mn(),i=o.firstChild;return o.$$click=e.onClickGag,o.$$clickData={track:r,lvl:s,isOrg:!1},o.$$contextmenu=e.onClickGag,o.$$contextmenuData={track:r,lvl:s,isOrg:!0},O(()=>G(i,"src",T({track:r,lvl:s}))),o})()}),null),n})()}),null),p(t,y(Fn,{get sosToons(){return[v.ClerkWill,v.ClerkPenny,v.ClerkClara,v.BarbaraSeville,v.SidSonata,v.MoeZart,v.ClumsyNed,v.FranzNeckvein,v.BarnacleBessie]},get onClickGridSosToonGag(){return e.onClickGridSosToonGag}}),null),t})(),Fn=e=>(()=>{var t=pn();return p(t,y(U,{get each(){return e.sosToons},children:r=>(()=>{var n=vn(),l=n.firstChild,s=l.nextSibling;return n.$$click=e.onClickGridSosToonGag,n.$$clickData={sosToon:r},O(o=>{var i=xt(r),a=At(r);return i!==o.e&&G(l,"src",o.e=i),a!==o.t&&G(s,"src",o.t=a),o},{e:void 0,t:void 0}),n})()})),t})(),Un=e=>(()=>{var t=yn(),r=t.firstChild;return p(r,y(U,{get each(){return[...Ot(10,Pt(1,20))]},children:n=>(()=>{var l=bn();return p(l,y(U,{each:n,children:s=>{const o=()=>ee[s]-e.comboDamage,i=()=>e.comboDamage===0?{}:o()<=0?{background:"#22c45e"}:{background:"#ef4444"};return(()=>{var a=$n(),u=a.firstChild,c=u.nextSibling,g=c.nextSibling;return p(u,s),p(c,()=>ee[s]),p(g,(()=>{var d=P(()=>e.comboDamage===0);return()=>d()?"-":o()})()),O(d=>zt(a,i(),d)),a})()}})),l})()})),t})(),In=e=>{const t=P(()=>e.combo.damage()),r=()=>{for(const[n,l]of Object.entries(ee).reverse())if(t()>=l)return Number(n);return null};return(()=>{var n=Cn(),l=n.firstChild;return p(n,y(D,{get when(){return r()},children:s=>{const o=()=>ee[s()]-t();return(()=>{var i=kn(),a=i.firstChild,u=a.firstChild,c=a.nextSibling,g=c.firstChild,d=g.firstChild,f=d.firstChild,h=f.firstChild;h.firstChild;var m=h.nextSibling;m.firstChild;var b=m.nextSibling;b.firstChild;var w=c.nextSibling,L=w.firstChild;return a.style.setProperty("text-align","right"),f.style.setProperty("white-space","nowrap"),p(h,s,null),p(m,()=>ee[s()],null),p(b,o,null),w.style.setProperty("width","min-content"),w.style.setProperty("text-align","center"),p(L,()=>e.combo.damage()),O(()=>G(u,"src",j(`cog_icons/${s()>14?"field-office":s()}.png`))),i})()}}),l),p(n,y(D,{get when(){return e.combo.gags.length>0},get children(){var s=wn(),o=s.firstChild,i=o.nextSibling;return i.nextSibling,Vt(s,"click",e.onClickClearGags,!0),p(s,()=>e.combo.gags.length,i),s}}),l),p(l,y(U,{get each(){return e.combo.gagsGroupedByTrack()},children:s=>{const o=P(()=>s[0].multipliers(e.combo));return(()=>{var i=xn(),a=i.firstChild;return a.style.setProperty("display","flex"),a.style.setProperty("flex-direction","column"),a.style.setProperty("gap","0.5rem"),p(a,y(D,{get when(){return s[0].track===A.trap&&s.length>=2},get children(){return Sn()}}),null),p(a,y(U,{each:s,children:u=>(()=>{var c=En(),g=c.firstChild,d=g.nextSibling;return g.$$contextmenu=e.onClickSelectedGag,g.$$contextmenuData={gag:u,action:1},g.$$click=e.onClickSelectedGag,g.$$clickData={gag:u,action:0},(u instanceof M?"var(--lightgrey)":void 0)!=null?g.style.setProperty("background",u instanceof M?"var(--lightgrey)":void 0):g.style.removeProperty("background"),(u instanceof M?"2px solid var(--gag-bg-blue)":void 0)!=null?g.style.setProperty("border",u instanceof M?"2px solid var(--gag-bg-blue)":void 0):g.style.removeProperty("border"),p(g,u instanceof M?[(()=>{var f=Gn();return O(()=>G(f,"src",xt(u.sosToon))),f})(),(()=>{var f=Bn();return O(()=>G(f,"src",At(u.sosToon))),f})()]:(()=>{var f=Nn();return O(()=>G(f,"src",T({track:u.track,lvl:u.lvl}))),f})()),p(c,y(D,{when:!(u instanceof M),get children(){var f=An(),h=f.firstChild;return f.$$click=e.onClickOrgToggle,f.$$clickData={gag:u},O(m=>{var b=u.isOrg?"100%":"50%",w=j("Organic.png");return b!==m.e&&((m.e=b)!=null?f.style.setProperty("opacity",b):f.style.removeProperty("opacity")),w!==m.t&&G(h,"src",m.t=w),m},{e:void 0,t:void 0}),f}}),d),p(d,()=>u.name,null),p(d,()=>u.isOrg&&" (Org) ",null),p(c,y(D,{get when(){return u.damage>0},get children(){var f=Ln();return p(f,()=>`[${u.damage}]`),f}}),null),c})()}),null),p(i,y(D,{get when(){return o().multi||o().knockback},get children(){var u=Pn(),c=u.firstChild,g=c.nextSibling;return g.firstChild,p(u,y(D,{get when(){return o().multi},get children(){return _n()}}),c),p(u,y(D,{get when(){return o().knockback},get children(){return On()}}),c),c.style.setProperty("border","none"),g.style.setProperty("text-align","right"),p(g,()=>e.combo.damage(void 0,s[0].track),null),O(()=>`2px solid var(--${s[0].track})`!=null?c.style.setProperty("border-top",`2px solid var(--${s[0].track})`):c.style.removeProperty("border-top")),u}}),null),O(()=>`4px solid var(--${s[0].track})`!=null?i.style.setProperty("border",`4px solid var(--${s[0].track})`):i.style.removeProperty("border")),i})()}})),n})()},At=e=>{switch(e){case v.ClerkWill:return T({track:A.trap,lvl:4});case v.ClerkPenny:return T({track:A.trap,lvl:5});case v.ClerkClara:return T({track:A.trap,lvl:6});case v.BarbaraSeville:return T({track:A.sound,lvl:4});case v.SidSonata:return T({track:A.sound,lvl:5});case v.MoeZart:return T({track:A.sound,lvl:6});case v.ClumsyNed:return T({track:A.drop,lvl:4});case v.FranzNeckvein:return T({track:A.drop,lvl:5});case v.BarnacleBessie:return T({track:A.drop,lvl:6});default:throw new Error(`Unmatched SosToons value '${e}'`)}};Pe(["contextmenu","click"]);var Dn=$("<main>"),jn=$("<div id=not-found class=flex-center><div>Page not found</div><a>Back to home");const Ne=j,Kn=()=>y(xr,{root:Mn,get children(){return[y(Be,{get path(){return[Ne(""),Ne("calc")]},component:Tn}),y(Be,{get path(){return Ne("grid")},component:gn}),y(Be,{path:"*404",component:qn})]}}),Mn=e=>y(Er,{get children(){return[y(Rr,{}),(()=>{var t=Dn();return p(t,()=>e.children),t})()]}}),qn=()=>(()=>{var e=jn(),t=e.firstChild,r=t.nextSibling;return O(()=>G(r,"href",j(""))),e})(),Wn=document.getElementById("root");Ht(()=>y(Kn,{}),Wn);
