(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();const Pt=(e,t)=>e===t,B=Symbol("solid-proxy"),Re=Symbol("solid-track"),he={equals:Pt};let At=ct;const Y=1,me=2,Ze={owned:null,cleanups:null,context:null,owner:null};var S=null;let Ae=null,xt=null,_=null,L=null,J=null,we=0;function oe(e,t){const n=_,r=S,l=e.length===0,s=t===void 0?r:t,o=l?Ze:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=l?e:()=>e(()=>F(()=>Ce(o)));S=o,_=null;try{return V(i,!0)}finally{_=n,S=r}}function M(e,t){t=t?Object.assign({},he,t):he;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=l=>(typeof l=="function"&&(l=l(n.value)),it(n,l));return[st.bind(n),r]}function A(e,t,n){const r=ot(e,t,!1,Y);Se(r)}function k(e,t,n){n=n?Object.assign({},he,n):he;const r=ot(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Se(r),st.bind(r)}function et(e){return V(e,!1)}function F(e){if(_===null)return e();const t=_;_=null;try{return e()}finally{_=t}}function tt(e,t,n){const r=Array.isArray(e);let l,s=n&&n.defer;return o=>{let i;if(r){i=Array(e.length);for(let u=0;u<e.length;u++)i[u]=e[u]()}else i=e();if(s){s=!1;return}const a=F(()=>t(i,l,o));return l=i,a}}function Ne(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function Te(){return _}function nt(){return S}function rt(e,t){const n=S,r=_;S=e,_=null;try{return V(t,!0)}catch(l){qe(l)}finally{S=n,_=r}}function Lt(e){const t=_,n=S;return Promise.resolve().then(()=>{_=t,S=n;let r;return V(e,!1),_=S=null,r?r.done:void 0})}function Be(e,t){const n=Symbol("context");return{id:n,Provider:Tt(n),defaultValue:e}}function lt(e){return S&&S.context&&S.context[e.id]!==void 0?S.context[e.id]:e.defaultValue}function Ke(e){const t=k(e),n=k(()=>Ie(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function st(){if(this.sources&&this.state)if(this.state===Y)Se(this);else{const e=L;L=null,V(()=>pe(this),!1),L=e}if(_){const e=this.observers?this.observers.length:0;_.sources?(_.sources.push(this),_.sourceSlots.push(e)):(_.sources=[this],_.sourceSlots=[e]),this.observers?(this.observers.push(_),this.observerSlots.push(_.sources.length-1)):(this.observers=[_],this.observerSlots=[_.sources.length-1])}return this.value}function it(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&V(()=>{for(let l=0;l<e.observers.length;l+=1){const s=e.observers[l],o=Ae&&Ae.running;o&&Ae.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?L.push(s):J.push(s),s.observers&&ut(s)),o||(s.state=Y)}if(L.length>1e6)throw L=[],new Error},!1)),t}function Se(e){if(!e.fn)return;Ce(e);const t=we;Et(e,e.value,t)}function Et(e,t,n){let r;const l=S,s=_;_=S=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=Y,e.owned&&e.owned.forEach(Ce),e.owned=null),e.updatedAt=n+1,qe(o)}finally{_=s,S=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?it(e,r):e.value=r,e.updatedAt=n)}function ot(e,t,n,r=Y,l){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return S===null||S!==Ze&&(S.owned?S.owned.push(s):S.owned=[s]),s}function at(e){if(e.state===0)return;if(e.state===me)return pe(e);if(e.suspense&&F(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<we);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Y)Se(e);else if(e.state===me){const r=L;L=null,V(()=>pe(e,t[0]),!1),L=r}}function V(e,t){if(L)return e();let n=!1;t||(L=[]),J?n=!0:J=[],we++;try{const r=e();return Gt(n),r}catch(r){n||(J=null),L=null,qe(r)}}function Gt(e){if(L&&(ct(L),L=null),e)return;const t=J;J=null,t.length&&V(()=>At(t),!1)}function ct(e){for(let t=0;t<e.length;t++)at(e[t])}function pe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const l=r.state;l===Y?r!==t&&(!r.updatedAt||r.updatedAt<we)&&at(r):l===me&&pe(r,t)}}}function ut(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=me,n.pure?L.push(n):J.push(n),n.observers&&ut(n))}}function Ce(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const s=l.pop(),o=n.observerSlots.pop();r<l.length&&(s.sourceSlots[o]=r,l[r]=s,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ce(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Rt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qe(e,t=S){throw Rt(e)}function Ie(e){if(typeof e=="function"&&!e.length)return Ie(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Ie(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Tt(e,t){return function(r){let l;return A(()=>l=F(()=>(S.context={...S.context,[e]:r.value},Ke(()=>r.children))),void 0),l}}const It=Symbol("fallback");function Je(e){for(let t=0;t<e.length;t++)e[t]()}function jt(e,t,n={}){let r=[],l=[],s=[],o=0,i=t.length>1?[]:null;return Ne(()=>Je(s)),()=>{let a=e()||[],u,c;return a[Re],F(()=>{let f=a.length,m,d,h,v,b,O,C,x,R;if(f===0)o!==0&&(Je(s),s=[],r=[],l=[],o=0,i&&(i=[])),n.fallback&&(r=[It],l[0]=oe(W=>(s[0]=W,n.fallback())),o=1);else if(o===0){for(l=new Array(f),c=0;c<f;c++)r[c]=a[c],l[c]=oe(g);o=f}else{for(h=new Array(f),v=new Array(f),i&&(b=new Array(f)),O=0,C=Math.min(o,f);O<C&&r[O]===a[O];O++);for(C=o-1,x=f-1;C>=O&&x>=O&&r[C]===a[x];C--,x--)h[x]=l[C],v[x]=s[C],i&&(b[x]=i[C]);for(m=new Map,d=new Array(x+1),c=x;c>=O;c--)R=a[c],u=m.get(R),d[c]=u===void 0?-1:u,m.set(R,c);for(u=O;u<=C;u++)R=r[u],c=m.get(R),c!==void 0&&c!==-1?(h[c]=l[u],v[c]=s[u],i&&(b[c]=i[u]),c=d[c],m.set(R,c)):s[u]();for(c=O;c<f;c++)c in h?(l[c]=h[c],s[c]=v[c],i&&(i[c]=b[c],i[c](c))):l[c]=oe(g);l=l.slice(0,o=f),r=a.slice(0)}return l});function g(f){if(s[c]=f,i){const[m,d]=M(c);return i[c]=d,t(a[c],m)}return t(a[c])}}}function y(e,t){return F(()=>e(t||{}))}function fe(){return!0}const Dt={get(e,t,n){return t===B?n:e.get(t)},has(e,t){return t===B?!0:e.has(t)},set:fe,deleteProperty:fe,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:fe,deleteProperty:fe}},ownKeys(e){return e.keys()}};function xe(e){return(e=typeof e=="function"?e():e)?e:{}}function Ut(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Ft(...e){let t=!1;for(let o=0;o<e.length;o++){const i=e[o];t=t||!!i&&B in i,e[o]=typeof i=="function"?(t=!0,k(i)):i}if(t)return new Proxy({get(o){for(let i=e.length-1;i>=0;i--){const a=xe(e[i])[o];if(a!==void 0)return a}},has(o){for(let i=e.length-1;i>=0;i--)if(o in xe(e[i]))return!0;return!1},keys(){const o=[];for(let i=0;i<e.length;i++)o.push(...Object.keys(xe(e[i])));return[...new Set(o)]}},Dt);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const i=e[o];if(!i)continue;const a=Object.getOwnPropertyNames(i);for(let u=a.length-1;u>=0;u--){const c=a[u];if(c==="__proto__"||c==="constructor")continue;const g=Object.getOwnPropertyDescriptor(i,c);if(!r[c])r[c]=g.get?{enumerable:!0,configurable:!0,get:Ut.bind(n[c]=[g.get.bind(i)])}:g.value!==void 0?g:void 0;else{const f=n[c];f&&(g.get?f.push(g.get.bind(i)):g.value!==void 0&&f.push(()=>g.value))}}}const l={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const i=s[o],a=r[i];a&&a.get?Object.defineProperty(l,i,a):l[i]=a?a.value:void 0}return l}const Nt=e=>`Stale read from <${e}>.`;function I(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(jt(()=>e.each,e.children,t||void 0))}function U(e){const t=e.keyed,n=k(()=>e.when,void 0,{equals:(r,l)=>t?r===l:!r==!l});return k(()=>{const r=n();if(r){const l=e.children;return typeof l=="function"&&l.length>0?F(()=>l(t?r:()=>{if(!F(n))throw Nt("Show");return e.when})):l}return e.fallback},void 0,void 0)}function Bt(e,t,n){let r=n.length,l=t.length,s=r,o=0,i=0,a=t[l-1].nextSibling,u=null;for(;o<l||i<s;){if(t[o]===n[i]){o++,i++;continue}for(;t[l-1]===n[s-1];)l--,s--;if(l===o){const c=s<r?i?n[i-1].nextSibling:n[s-i]:a;for(;i<s;)e.insertBefore(n[i++],c)}else if(s===i)for(;o<l;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[i]===t[l-1]){const c=t[--l].nextSibling;e.insertBefore(n[i++],t[o++].nextSibling),e.insertBefore(n[--s],c),t[l]=n[s]}else{if(!u){u=new Map;let g=i;for(;g<s;)u.set(n[g],g++)}const c=u.get(t[o]);if(c!=null)if(i<c&&c<s){let g=o,f=1,m;for(;++g<l&&g<s&&!((m=u.get(t[g]))==null||m!==c+f);)f++;if(f>c-i){const d=t[o];for(;i<c;)e.insertBefore(n[i++],d)}else e.replaceChild(n[i++],t[o++])}else o++;else t[o++].remove()}}}const Xe="_$DX_DELEGATE";function Kt(e,t,n,r={}){let l;return oe(s=>{l=s,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{l(),t.textContent=""}}function $(e,t,n){let r;const l=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>F(()=>document.importNode(r||(r=l()),!0)):()=>(r||(r=l())).cloneNode(!0);return s.cloneNode=s,s}function _e(e,t=window.document){const n=t[Xe]||(t[Xe]=new Set);for(let r=0,l=e.length;r<l;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Mt))}}function G(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function qt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const l=n[0];e.addEventListener(t,n[0]=s=>l.call(e,n[1],s))}else e.addEventListener(t,n)}function Ht(e,t,n){if(!t)return n?G(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let l,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)l=t[s],l!==n[s]&&(r.setProperty(s,l),n[s]=l);return n}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ve(e,t,r,n);A(l=>ve(e,t(),l,n),r)}function Mt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?r.call(n,l,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ve(e,t,n,r,l){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),o){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=ee(e,n,r,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=ee(e,n,r);else{if(s==="function")return A(()=>{let i=t();for(;typeof i=="function";)i=i();n=ve(e,i,n,r)}),()=>n;if(Array.isArray(t)){const i=[],a=n&&Array.isArray(n);if(je(i,t,n,l))return A(()=>n=ve(e,i,n,r,!0)),()=>n;if(i.length===0){if(n=ee(e,n,r),o)return n}else a?n.length===0?ze(e,i,r):Bt(e,n,i):(n&&ee(e),ze(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=ee(e,n,r,t);ee(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function je(e,t,n,r){let l=!1;for(let s=0,o=t.length;s<o;s++){let i=t[s],a=n&&n[e.length],u;if(!(i==null||i===!0||i===!1))if((u=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))l=je(e,i,a)||l;else if(u==="function")if(r){for(;typeof i=="function";)i=i();l=je(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||l}else e.push(i),l=!0;else{const c=String(i);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return l}function ze(e,t,n=null){for(let r=0,l=t.length;r<l;r++)e.insertBefore(t[r],n)}function ee(e,t,n,r){if(n===void 0)return e.textContent="";const l=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(l!==i){const a=i.parentNode===e;!s&&!o?a?e.replaceChild(l,i):e.insertBefore(l,n):a&&i.remove()}else s=!0}}else e.insertBefore(l,n);return[l]}const Vt=!1;var Wt=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function Jt(...e){console.warn(...Wt(),...e)}const De=Symbol("store-raw"),ne=Symbol("store-node"),K=Symbol("store-has"),gt=Symbol("store-self");function ft(e){let t=e[B];if(!t&&(Object.defineProperty(e,B,{value:t=new Proxy(e,Qt)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let l=0,s=n.length;l<s;l++){const o=n[l];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function ye(e){let t;return e!=null&&typeof e=="object"&&(e[B]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ce(e,t=new Set){let n,r,l,s;if(n=e!=null&&e[De])return n;if(!ye(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,i=e.length;o<i;o++)l=e[o],(r=ce(l,t))!==l&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,u=o.length;a<u;a++)s=o[a],!i[s].get&&(l=e[s],(r=ce(l,t))!==l&&(e[s]=r))}return e}function be(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ue(e,t,n){if(e[t])return e[t];const[r,l]=M(n,{equals:!1,internal:!0});return r.$=l,e[t]=r}function Xt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===B||t===ne||(delete n.value,delete n.writable,n.get=()=>e[B][t]),n}function dt(e){Te()&&ue(be(e,ne),gt)()}function zt(e){return dt(e),Reflect.ownKeys(e)}const Qt={get(e,t,n){if(t===De)return e;if(t===B)return n;if(t===Re)return dt(e),n;const r=be(e,ne),l=r[t];let s=l?l():e[t];if(t===ne||t===K||t==="__proto__")return s;if(!l){const o=Object.getOwnPropertyDescriptor(e,t);Te()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=ue(r,t,s)())}return ye(s)?ft(s):s},has(e,t){return t===De||t===B||t===Re||t===ne||t===K||t==="__proto__"?!0:(Te()&&ue(be(e,K),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:zt,getOwnPropertyDescriptor:Xt};function $e(e,t,n,r=!1){if(!r&&e[t]===n)return;const l=e[t],s=e.length;n===void 0?(delete e[t],e[K]&&e[K][t]&&l!==void 0&&e[K][t].$()):(e[t]=n,e[K]&&e[K][t]&&l===void 0&&e[K][t].$());let o=be(e,ne),i;if((i=ue(o,t,l))&&i.$(()=>n),Array.isArray(e)&&e.length!==s){for(let a=e.length;a<s;a++)(i=o[a])&&i.$();(i=ue(o,"length",s))&&i.$(e.length)}(i=o[gt])&&i.$()}function ht(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const l=n[r];$e(e,l,t[l])}}function Yt(e,t){if(typeof t=="function"&&(t=t(e)),t=ce(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const l=t[n];e[n]!==l&&$e(e,n,l)}$e(e,"length",r)}else ht(e,t)}function ie(e,t,n=[]){let r,l=e;if(t.length>1){r=t.shift();const o=typeof r,i=Array.isArray(e);if(Array.isArray(r)){for(let a=0;a<r.length;a++)ie(e,[r[a]].concat(t),n);return}else if(i&&o==="function"){for(let a=0;a<e.length;a++)r(e[a],a)&&ie(e,[a].concat(t),n);return}else if(i&&o==="object"){const{from:a=0,to:u=e.length-1,by:c=1}=r;for(let g=a;g<=u;g+=c)ie(e,[g].concat(t),n);return}else if(t.length>1){ie(e[r],t,[r].concat(n));return}l=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(l,n),s===l)||r===void 0&&s==null||(s=ce(s),r===void 0||ye(l)&&ye(s)&&!Array.isArray(s)?ht(l,s):$e(e,r,s))}function Zt(...[e,t]){const n=ce(e||{}),r=Array.isArray(n),l=ft(n);function s(...o){et(()=>{r&&o.length===1?Yt(n,o[0]):ie(n,o)})}return[l,s]}Jt('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');function mt(){let e=new Set;function t(l){return e.add(l),()=>e.delete(l)}let n=!1;function r(l,s){if(n)return!(n=!1);const o={to:l,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const i of e)i.listener({...o,from:i.location,retry:a=>{a&&(n=!0),i.navigate(l,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let Ue;function He(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ue=window.history.state._depth}He();function en(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function tn(e,t){let n=!1;return()=>{const r=Ue;He();const l=r==null?null:Ue-r;if(n){n=!1;return}l&&t(l)?(n=!0,window.history.go(-l)):e()}}const nn=/^(?:[a-z0-9]+:)?\/\//i,rn=/^\/+|(\/)\/+$/g,pt="http://sr";function ae(e,t=!1){const n=e.replace(rn,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function de(e,t,n){if(nn.test(t))return;const r=ae(e),l=n&&ae(n);let s="";return!l||t.startsWith("/")?s=r:l.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+l:s=l,(s||"/")+ae(t,!s)}function ln(e,t){return ae(e).replace(/\/*(\*.*)?$/g,"")+ae(t)}function vt(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function sn(e,t,n){const[r,l]=e.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return i=>{const a=i.split("/").filter(Boolean),u=a.length-o;if(u<0||u>0&&l===void 0&&!t)return null;const c={path:o?"":"/",params:{}},g=f=>n===void 0?void 0:n[f];for(let f=0;f<o;f++){const m=s[f],d=a[f],h=m[0]===":",v=h?m.slice(1):m;if(h&&Le(d,g(v)))c.params[v]=d;else if(h||!Le(d,m))return null;c.path+=`/${d}`}if(l){const f=u?a.slice(-u).join("/"):"";if(Le(f,g(l)))c.params[l]=f;else return null}return c}}function Le(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function on(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((l,s)=>l+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function yt(e){const t=new Map,n=nt();return new Proxy({},{get(r,l){return t.has(l)||rt(n,()=>t.set(l,k(()=>e()[l]))),t.get(l)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function bt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const l=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)l.push(n+=t[1]),r=r.slice(t[0].length);return bt(r).reduce((s,o)=>[...s,...l.map(i=>i+o)],[])}const an=100,cn=Be(),Me=Be();function un(e,t=""){const{component:n,load:r,children:l,info:s}=e,o=!l||Array.isArray(l)&&!l.length,i={key:e,component:n,load:r,info:s};return $t(e.path).reduce((a,u)=>{for(const c of bt(u)){const g=ln(t,c);let f=o?g:g.split("/*",1)[0];f=f.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),a.push({...i,originalPath:c,pattern:f,matcher:sn(f,!o,e.matchFilters)})}return a},[])}function gn(e,t=0){return{routes:e,score:on(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let l=e.length-1;l>=0;l--){const s=e[l],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function $t(e){return Array.isArray(e)?e:[e]}function wt(e,t="",n=[],r=[]){const l=$t(e);for(let s=0,o=l.length;s<o;s++){const i=l[s];if(i&&typeof i=="object"){i.hasOwnProperty("path")||(i.path="");const a=un(i,t);for(const u of a){n.push(u);const c=Array.isArray(i.children)&&i.children.length===0;if(i.children&&!c)wt(i.children,u.pattern,n,r);else{const g=gn([...n],r.length);r.push(g)}n.pop()}}}return n.length?r:r.sort((s,o)=>o.score-s.score)}function St(e,t){for(let n=0,r=e.length;n<r;n++){const l=e[n].matcher(t);if(l)return l}return[]}function fn(e,t){const n=new URL(pt),r=k(a=>{const u=e();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),a}},n,{equals:(a,u)=>a.href===u.href}),l=k(()=>r().pathname),s=k(()=>r().search,!0),o=k(()=>r().hash),i=()=>"";return{get pathname(){return l()},get search(){return s()},get hash(){return o()},get state(){return t()},get key(){return i()},query:yt(tt(s,()=>vt(r())))}}let H;function dn(e,t,n,r={}){const{signal:[l,s],utils:o={}}=e,i=o.parsePath||(w=>w),a=o.renderPath||(w=>w),u=o.beforeLeave||mt(),c=de("",r.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!l().value&&s({value:c,replace:!0,scroll:!1});const[g,f]=M(!1),m=async w=>{f(!0);try{await Lt(w)}finally{f(!1)}},[d,h]=M(l().value),[v,b]=M(l().state),O=fn(d,v),C=[],x=M([]),R={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(w){return de(c,w)}};return A(()=>{const{value:w,state:P}=l();F(()=>{w!==d()&&m(()=>{H="native",h(w),b(P),x[1]([])}).then(()=>{H=void 0})})}),{base:R,location:O,isRouting:g,renderPath:a,parsePath:i,navigatorFactory:Oe,beforeLeave:u,preloadRoute:T,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:x};function W(w,P,j){F(()=>{if(typeof P=="number"){P&&(o.go?o.go(P):console.warn("Router integration does not support relative routing"));return}const{replace:le,resolve:Pe,scroll:Z,state:se}={replace:!1,resolve:!0,scroll:!0,...j},q=Pe?w.resolvePath(P):de("",P);if(q===void 0)throw new Error(`Path '${P}' is not a routable path`);if(C.length>=an)throw new Error("Too many redirects");const We=d();if((q!==We||se!==v())&&!Vt){if(u.confirm(q,j)){const Ot=C.push({value:We,replace:le,scroll:Z,state:v()});m(()=>{H="navigate",h(q),b(se),x[1]([])}).then(()=>{C.length===Ot&&(H=void 0,E({value:q,state:se}))})}}})}function Oe(w){return w=w||lt(Me)||R,(P,j)=>W(w,P,j)}function E(w){const P=C[0];P&&((w.value!==P.value||w.state!==P.state)&&s({...w,replace:P.replace,scroll:P.scroll}),C.length=0)}function T(w,P){const j=St(n(),w.pathname),le=H;H="preload";for(let Pe in j){const{route:Z,params:se}=j[Pe];Z.component&&Z.component.preload&&Z.component.preload();const{load:q}=Z;P&&q&&rt(t(),()=>q({params:se,location:{pathname:w.pathname,search:w.search,hash:w.hash,query:vt(w),state:null,key:""},intent:"preload"}))}H=le}}function hn(e,t,n,r,l){const{base:s,location:o}=e,{pattern:i,component:a,load:u}=r().route,c=k(()=>r().path);a&&a.preload&&a.preload();const g=u?u({params:l,location:o,intent:H||"initial"}):void 0;return{parent:t,pattern:i,path:c,params:l,outlet:()=>a?y(a,{params:l,location:o,data:g,get children(){return n()}}):n(),resolvePath(m){return de(s.path(),m,c())}}}const mn=e=>t=>{const{base:n}=t,r=Ke(()=>t.children),l=k(()=>wt(t.root?{component:t.root,load:t.rootLoad,children:r()}:r(),t.base||""));let s;const o=dn(e,()=>s,l,{base:n,singleFlight:t.singleFlight});return e.create&&e.create(o),y(cn.Provider,{value:o,get children(){return[k(()=>(s=nt())&&null),y(pn,{routerState:o,get branches(){return l()}})]}})};function pn(e){const t=k(()=>St(e.branches,e.routerState.location.pathname)),n=yt(()=>{const o=t(),i={};for(let a=0;a<o.length;a++)Object.assign(i,o[a].params);return i}),r=[];let l;const s=k(tt(t,(o,i,a)=>{let u=i&&o.length===i.length;const c=[];for(let g=0,f=o.length;g<f;g++){const m=i&&i[g],d=o[g];a&&m&&d.route.key===m.route.key?c[g]=a[g]:(u=!1,r[g]&&r[g](),oe(h=>{r[g]=h,c[g]=hn(e.routerState,c[g-1]||e.routerState.base,vn(()=>s()[g+1]),()=>t()[g],n)}))}return r.splice(o.length).forEach(g=>g()),a&&u?a:(l=c[0],c)}));return y(U,{get when(){return s()&&l},keyed:!0,children:o=>y(Me.Provider,{value:o,get children(){return o.outlet()}})})}const vn=e=>()=>y(U,{get when(){return e()},keyed:!0,children:t=>y(Me.Provider,{value:t,get children(){return t.outlet()}})}),Ee=e=>{const t=Ke(()=>e.children);return Ft(e,{get children(){return t()}})};function yn([e,t],n,r){return[n?()=>n(e()):e,r?l=>t(r(l)):t]}function bn(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function $n(e){let t=!1;const n=l=>typeof l=="string"?{value:l}:l,r=yn(M(n(e.get()),{equals:(l,s)=>l.value===s.value}),void 0,l=>(!t&&e.set(l),l));return e.init&&Ne(e.init((l=e.get())=>{t=!0,r[1](n(l)),t=!1})),mn({signal:r,create:e.create,utils:e.utils})}function wn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Sn(e,t){const n=bn(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Cn=new Map;function _n(e=!0,t=!1,n="/_server"){return r=>{const l=r.base.path(),s=r.navigatorFactory(r.base);let o={};function i(d){return d.namespaceURI==="http://www.w3.org/2000/svg"}function a(d){if(d.defaultPrevented||d.button!==0||d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)return;const h=d.composedPath().find(R=>R instanceof Node&&R.nodeName.toUpperCase()==="A");if(!h||t&&!h.hasAttribute("link"))return;const v=i(h),b=v?h.href.baseVal:h.href;if((v?h.target.baseVal:h.target)||!b&&!h.hasAttribute("state"))return;const C=(h.getAttribute("rel")||"").split(/\s+/);if(h.hasAttribute("download")||C&&C.includes("external"))return;const x=v?new URL(b,document.baseURI):new URL(b);if(!(x.origin!==window.location.origin||l&&x.pathname&&!x.pathname.toLowerCase().startsWith(l.toLowerCase())))return[h,x]}function u(d){const h=a(d);if(!h)return;const[v,b]=h,O=r.parsePath(b.pathname+b.search+b.hash),C=v.getAttribute("state");d.preventDefault(),s(O,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:C&&JSON.parse(C)})}function c(d){const h=a(d);if(!h)return;const[v,b]=h;o[b.pathname]||r.preloadRoute(b,v.getAttribute("preload")!=="false")}function g(d){const h=a(d);if(!h)return;const[v,b]=h;o[b.pathname]||(o[b.pathname]=setTimeout(()=>{r.preloadRoute(b,v.getAttribute("preload")!=="false"),delete o[b.pathname]},200))}function f(d){const h=a(d);if(!h)return;const[,v]=h;o[v.pathname]&&(clearTimeout(o[v.pathname]),delete o[v.pathname])}function m(d){let h=d.submitter&&d.submitter.hasAttribute("formaction")?d.submitter.getAttribute("formaction"):d.target.getAttribute("action");if(!h)return;if(!h.startsWith("https://action/")){const b=new URL(h,pt);if(h=r.parsePath(b.pathname+b.search),!h.startsWith(n))return}if(d.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const v=Cn.get(h);if(v){d.preventDefault();const b=new FormData(d.target);d.submitter&&d.submitter.name&&b.append(d.submitter.name,d.submitter.value),v.call(r,b)}}_e(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mouseover",g),document.addEventListener("mouseout",f),document.addEventListener("focusin",c),document.addEventListener("touchstart",c)),document.addEventListener("submit",m),Ne(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mouseover",g),document.removeEventListener("mouseout",f),document.removeEventListener("focusin",c),document.removeEventListener("touchstart",c)),document.removeEventListener("submit",m)})}}function kn(e){const t=()=>({value:window.location.pathname+window.location.search+window.location.hash,state:window.history.state}),n=mt();return $n({get:t,set({value:r,replace:l,scroll:s,state:o}){l?window.history.replaceState(en(o),"",r):window.history.pushState(o,"",r),Sn(window.location.hash.slice(1),s),He()},init:r=>wn(window,"popstate",tn(r,l=>{if(l&&l<0)return!n.confirm(l);{const s=t();return!n.confirm(s.value,{state:s.state})}})),create:_n(e.preload,e.explicitLinks,e.actionBase),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}const On=({initialState:e}={})=>{const[t,n]=Zt({isLured:!1,showOrgView:!0,selectedOrgGags:Array.from({length:4},()=>null),hideLvl13UpCogs:!1,level4UpGagsOnly:!1,...e});return new class{getIsLured=()=>t.isLured;toggleIsLured=()=>n("isLured",r=>!r);setIsLured=r=>n("isLured",r);getShowOrgView=()=>t.showOrgView;toggleShowOrgView=()=>n("showOrgView",r=>!r);getSelectedOrgGags=()=>t.selectedOrgGags;setOrToggleSelectedOrgGag=(r,l)=>{n("selectedOrgGags",r,s=>l===s?null:l)};resetSelectedOrgGags=()=>{n("selectedOrgGags",Array.from({length:4},()=>null))};getSelectedOrgGagTrackCounts=k(()=>this.getSelectedOrgGags().reduce((r,l)=>(l!==null&&r[l]++,r),{toonup:0,trap:0,lure:0,sound:0,throw:0,squirt:0,drop:0}));getHideLvl13UpCogs=()=>t.hideLvl13UpCogs;toggleHideLvl13UpCogs=()=>n("hideLvl13UpCogs",r=>!r);getLevel4UpGagsOnly=()=>t.level4UpGagsOnly;toggleLevel4UpGagsOnly=()=>n("level4UpGagsOnly",r=>!r);getMaxCogLvl=()=>t.hideLvl13UpCogs?12:20;getStateForStorage=()=>({isLured:t.isLured,showOrgView:t.showOrgView,selectedOrgGags:t.selectedOrgGags,hideLvl13UpCogs:t.hideLvl13UpCogs,level4UpGagsOnly:t.level4UpGagsOnly})}},Qe="savedState",Pn=()=>{const e=localStorage.getItem(Qe);if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error(`Error parsing localStorage item '${Qe}'`,t),null}},te=e=>{localStorage.setItem("savedState",JSON.stringify(e))},Ct=Be(),An=e=>{const t=Pn()??void 0,n=On({initialState:t});return y(Ct.Provider,{value:n,get children(){return e.children}})},ge=()=>lt(Ct);var D=(e=>(e.toonup="toonup",e.trap="trap",e.lure="lure",e.sound="sound",e.throw="throw",e.squirt="squirt",e.drop="drop",e))(D||{});const xn=Object.values(D),Ye={toonup:0,trap:1,lure:2,sound:3,throw:4,squirt:5,drop:6},Fe={toonup:{1:{name:"Feather",damage:0},2:{name:"Megaphone",damage:0},3:{name:"Lipstick",damage:0},4:{name:"Bamboo Cane",damage:0},5:{name:"Pixie Dust",damage:0},6:{name:"Juggling Cubes",damage:0},7:{name:"High Dive",damage:0}},lure:{1:{name:"$1 Bill",damage:0},2:{name:"Small Magnet",damage:0},3:{name:"$5 Bill",damage:0},4:{name:"Big Magnet",damage:0},5:{name:"$10 Bill",damage:0},6:{name:"Hypno-goggles",damage:0},7:{name:"Presentation",damage:0}},trap:{1:{name:"Banana Peel",damage:12},2:{name:"Rake",damage:20},3:{name:"Marbles",damage:35},4:{name:"Quicksand",damage:50},5:{name:"Trapdoor",damage:85},6:{name:"TNT",damage:180},7:{name:"Railroad",damage:200}},sound:{1:{name:"Bike Horn",damage:4},2:{name:"Whistle",damage:7},3:{name:"Bugle",damage:11},4:{name:"Aoogah",damage:16},5:{name:"Elephant Trunk",damage:21},6:{name:"Foghorn",damage:50},7:{name:"Opera Singer",damage:90}},throw:{1:{name:"Cupcake",damage:6},2:{name:"Fruit Pie Slice",damage:10},3:{name:"Cream Pie Slice",damage:17},4:{name:"Whole Fruit Pie",damage:27},5:{name:"Whole Cream Pie",damage:40},6:{name:"Birthday Cake",damage:100},7:{name:"Wedding Cake",damage:120}},squirt:{1:{name:"Squirting Flower",damage:4},2:{name:"Glass of Water",damage:8},3:{name:"Squirt Gun",damage:12},4:{name:"Seltzer Bottle",damage:21},5:{name:"Fire Hose",damage:30},6:{name:"Storm Cloud",damage:80},7:{name:"Geyser",damage:105}},drop:{1:{name:"Flower Pot",damage:10},2:{name:"Sandbag",damage:18},3:{name:"Anvil",damage:30},4:{name:"Big Weight",damage:45},5:{name:"Safe",damage:70},6:{name:"Grand Piano",damage:170},7:{name:"Toontanic",damage:180}}},X={1:6,2:12,3:20,4:30,5:42,6:56,7:72,8:90,9:110,10:132,11:156,12:196,13:224,14:254,15:286,16:320,17:356,18:394,19:434,20:476},Ln="/toontown-combos/",Ve={toonup:"Toon-Up",trap:"Trap",lure:"Lure",sound:"Sound",throw:"Throw",squirt:"Squirt",drop:"Drop"};function*_t(e,t){let n=[];for(const r of t)n.push(r),n.length===e&&(yield n,n=[]);n.length>0&&(yield n)}function*kt(e,t,n=1){if(n===0)throw new Error("Step cannot be zero.");if(e<t&&n<0||e>t&&n>0)throw new Error("Invalid range: step direction does not match range direction.");if(n>0)for(let r=e;r<=t;r+=n)yield r;else for(let r=e;r>=t;r+=n)yield r}function*En({maxCogLvl:e,organicGags:t,isLured:n,minGagLvl:r}){const l={isLured:n,organicGags:t,minGagLvl:r},s=["sound","throw","squirt"];for(let o=e;o>=1;o--)for(const i of s)for(let a=4;a>=1;a--)yield{...l,cogLvl:o,gags:{[i]:a}}}const N=e=>`${Ln}${e}`,re=({track:e,lvl:t})=>{const n=t===0?"None":Fe[e][t].name.replace(/\s/g,"_");return N(`gag_icons/${n}.png`)};var Gn=$("<nav id=nav><div id=nav-content><img id=nav-logo><span id=nav-title>Toontown<br>Combos</span><ul><li><a>Combo Grid</a></li><div class=navlink-sep></div><li><a>Calculator");const Rn=()=>(()=>{var e=Gn(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,l=r.nextSibling,s=l.firstChild,o=s.firstChild,i=s.nextSibling,a=i.nextSibling,u=a.firstChild;return A(c=>{var g=N("favicon.ico"),f=N("grid"),m=N("calc");return g!==c.e&&G(n,"src",c.e=g),f!==c.t&&G(o,"href",c.t=f),m!==c.a&&G(u,"href",c.a=m),c},{e:void 0,t:void 0,a:void 0}),e})();var Tn=$("<div class=combo><span class=combo-dmg></span><div class=gags>"),In=$("<div class=gag-icon-container><img class=gag-icon>"),jn=$("<span class=org>Org");const Dn=e=>y(U,{get when(){return e.combo.damageKillsCog()},get children(){var t=Tn(),n=t.firstChild,r=n.nextSibling;return p(n,()=>e.combo.damage()),p(r,y(I,{get each(){return e.combo.combo.gags},children:l=>(()=>{var s=In(),o=s.firstChild;return p(s,(()=>{var i=k(()=>!!l.isOrg);return()=>i()&&jn()})(),null),A(i=>{var a=l.isOrg?`var(--${l.track})`:"unset",u=re({track:l.track,lvl:l.lvl});return a!==i.e&&((i.e=a)!=null?s.style.setProperty("background",a):s.style.removeProperty("background")),u!==i.t&&G(o,"src",i.t=u),i},{e:void 0,t:void 0}),s})()})),t}});var Un=$("<div class=cog-lvl-cell><div class=cog-icon-container><img></div><div><span class=cog-lvl></span><span class=cog-hp></span><span class=hp>HP"),Fn=$("<span>Lured");const Nn=e=>{const t=ge(),n=()=>X[e.cogLvl],r=()=>e.cogLvl>14?"field-office":e.cogLvl.toString();return(()=>{var l=Un(),s=l.firstChild,o=s.firstChild,i=s.nextSibling,a=i.firstChild,u=a.nextSibling;return p(s,(()=>{var c=k(()=>!!t.getIsLured());return()=>c()&&Fn()})(),null),p(a,()=>e.cogLvl),p(u,n),A(c=>{var g=N(`cog_icons/${r()}.png`),f=t.getIsLured()?"var(--lure)":"unset";return g!==c.e&&G(o,"src",c.e=g),f!==c.t&&((c.t=f)!=null?o.style.setProperty("background",f):o.style.removeProperty("background")),c},{e:void 0,t:void 0}),l})()},Bn=()=>{const e=ge(),t=k(()=>{const n=e.getMaxCogLvl(),r=[];for(let l=n;l>=1;l--)r.push(l);return r});return y(I,{get each(){return t()},children:n=>y(Nn,{cogLvl:n})})};var Kn=$("<ul class=org-gag-track-list role=listbox>"),qn=$("<li role=option><button><div class=img-container><img></div><span>");const Hn=e=>{const t=ge(),n=()=>t.getSelectedOrgGags()[e.toonIdx],r=(l,s)=>{t.setOrToggleSelectedOrgGag(l,s),te(t.getStateForStorage())};return(()=>{var l=Kn();return p(l,y(I,{each:xn,children:s=>{const o=()=>n()===s?`var(--${s})`:"transparent";return(()=>{var i=qn(),a=i.firstChild,u=a.firstChild,c=u.firstChild,g=u.nextSibling;return a.$$click=()=>r(e.toonIdx,s),p(g,()=>Ve[s]),A(f=>{var m=o(),d=re({track:s,lvl:1});return m!==f.e&&((f.e=m)!=null?i.style.setProperty("background",m):i.style.removeProperty("background")),d!==f.t&&G(c,"src",f.t=d),f},{e:void 0,t:void 0}),i})()}})),l})()};_e(["click"]);var Mn=$("<ul class=org-selection-list>"),Vn=$("<li><div class=toon-num>Toon ");const Wn=()=>(()=>{var e=Mn();return p(e,y(I,{get each(){return Array.from({length:4})},children:(t,n)=>(()=>{var r=Vn(),l=r.firstChild;return l.firstChild,p(l,()=>n()+1,null),p(r,y(Hn,{get toonIdx(){return n()}}),null),r})()})),e})();var Jn=$("<ul class=org-selection-preview-list>"),Xn=$("<li role=option class=org-selection-preview-list-item>"),zn=$("<div class=img-container><img>"),Qn=$("<span>");const Yn=()=>{const e=ge();return y(U,{get when(){return e.getSelectedOrgGags().some(t=>t!==null)},get children(){var t=Jn();return p(t,y(I,{get each(){return Array.from({length:4})},children:(n,r)=>{const l=e.getSelectedOrgGags()[r()],s=l!==null?`var(--${l})`:"transparent";return(()=>{var o=Xn();return s!=null?o.style.setProperty("background",s):o.style.removeProperty("background"),p(o,l!==null&&[(()=>{var i=zn(),a=i.firstChild;return A(()=>G(a,"src",re({track:l,lvl:1}))),i})(),(()=>{var i=Qn();return p(i,()=>Ve[l]),i})()]),o})()}})),t}})};class Zn{lvl;isLured;constructor({lvl:t,isLured:n}){this.lvl=t,this.isLured=n}get hp(){return X[this.lvl]}toString(){return`Cog(level: ${this.lvl}, HP: ${this.hp})`}}class z{track;lvl;isOrg;constructor({track:t,lvl:n,isOrg:r=!1}){this.track=t,this.lvl=n,this.isOrg=r}static fromGag(t){return new z({track:t.track,lvl:t.lvl,isOrg:t.isOrg})}get name(){return this.lvl===0?"None":Fe[this.track][this.lvl].name}get damage(){if(this.lvl===0)return 0;const t=Fe[this.track][this.lvl].damage;return this.isOrg&&t>0?t<10?t+1:Math.floor(t*1.1):t}multipliers(t,n){return this.lvl===0?{multi:!1,knockback:!1}:this.track===D.toonup||this.track===D.trap||this.track===D.lure?{multi:!1,knockback:!1}:{multi:t.trackCounts()[this.track]>=2,knockback:this.knockback(t,n)}}multiplier(t,n){const r=this.multipliers(t,n);return 1+(r.multi?.2:0)+(r.knockback?.5:0)}knockback(t,n){const r=t.trackCounts();return(!n||!n.isLured)&&r.lure===0||r.trap>0||r.sound>0?!1:this.track==="throw"||this.track==="squirt"&&r.throw===0}toString(){return`Gag(name: ${this.name}, level: ${this.lvl}, damage: ${this.damage}, isOrg: ${this.isOrg})`}}class Q{gags;constructor({gags:t}){this.gags=t}static fromCombo(t){return new Q({gags:t.gags.map(n=>z.fromGag(n))})}static cleanGagCounts(t){return Object.values(D).reduce((n,r)=>(t.hasOwnProperty(r)&&t[r]>0&&(n[r]=t[r]),n),{})}trackCounts(){return this.gags.reduce((t,n)=>(n.lvl!==0&&(t[n.track]+=1),t),Object.fromEntries(Object.values(D).map(t=>[t,0])))}gagsGroupedByTrack(){const t=this.gags.filter(r=>r.lvl!==0).sort(ke);if(t.length===0)return[];const n=[[t[0]]];for(let r=1;r<t.length;r++)t[r].track===t[r-1].track?n[n.length-1].push(t[r]):n.push([t[r]]);return n}damage(t,n){return this.gagsGroupedByTrack().reduce((r,l)=>n&&l[0].track!==n||l[0].track===D.trap&&l.length>=2?r:r+Math.ceil(l.reduce((s,o)=>s+o.damage,0)*l[0].multiplier(this,t)),0)}damageKillsCog(t){return this.damage(t)>=t.hp}toString(t){return`Combo(damage: ${this.damage(t)} gags: [
${this.gags.map(n=>`  ${n}`).join(`,
`)}
])`}}class er{combo;cog;gagsInput;organicGagsInput;constructor({combo:t,cog:n,gagsInput:r,organicGagsInput:l}){this.combo=t,this.cog=n,this.gagsInput=Q.cleanGagCounts(r??{}),this.organicGagsInput=Q.cleanGagCounts(l??{})}inputKey(){const t={lvl:this.cog.lvl,isLured:this.cog.isLured},n=this.gagsInput,r=this.organicGagsInput;return{cog:t,gags:n,organicGags:r}}outputKey(){const t=[...this.combo.gags].sort(ke).map(r=>{const l=r.damage,{lvl:s,track:o}=r,{multi:i,knockback:a}=r.multipliers(this.combo,this.cog);return{track:o,lvl:s,dmg:l,multi:i,knockback:a}});return{dmg:this.combo.damage(this.cog),gags:t}}damage(){return this.combo.damage(this.cog)}damageKillsCog(){return this.combo.damageKillsCog(this.cog)}}function tr({cogLvl:e,isLured:t,gags:n,organicGags:r,minGagLvl:l=null}){let s=0;for(const[u,c]of Object.entries(n)){if(!D.hasOwnProperty(u))throw new Error(`Unrecognized gag track key '${u}' in \`gags\` argument. Must be one of: ${Object.values(D).map(g=>"'"+g+"'").join(", ")}`);if(typeof c!="number"||isNaN(c))throw new Error(`Values in \`gags\` argument must be a number. For key '${u}' got value '${c}'.`);if(u==="trap"&&c>1)throw new Error("Cannot specify multiple trap gags, must be 0 or 1.");s+=c}if(s<1||s>4)throw new Error(`Sum of values in \`gags\` argument must be 1 <= n <= 4. Received ${s}.`);if(l!==null&&(l<1||l>7))throw new Error(`\`minGagLvl\` argument must be 1 <= n <= 7. Received ${l}.`);const o=Object.entries(n).reduce((u,[c,g])=>{for(let f=0;f<g;f++){const m=f<=(r[c]??0)-1;u.push(new z({track:c,lvl:l??1,isOrg:m}))}return u},[]);o.sort((u,c)=>c.damage-u.damage);const i=new Zn({lvl:e,isLured:t});let a=new Q({gags:o});return a=nr(a,i,l),a.gags.sort(ke),new er({combo:a,cog:i,gagsInput:n,organicGagsInput:r})}function nr(e,t,n){for(;!e.damageKillsCog(t);){for(const s of e.gags)s.lvl!==7&&(s.lvl+=1);if(e.gags.every(s=>s.lvl===7))break}if(!e.damageKillsCog(t))return e.gags=e.gags.map(s=>new z({track:s.track,lvl:0,isOrg:s.isOrg})),e;const r=e.trackCounts().drop>0;let l=0;for(;l!==e.gags.length-1;)for(l=e.gags.length-1;l>=0&&e.gags[l].lvl!==0;l--)if(n!==null&&e.gags[l].lvl===n){if(e.gags[l].lvl=0,!e.damageKillsCog(t)){e.gags[l].lvl=n;break}}else if(e.gags[l].lvl-=1,!e.damageKillsCog(t)){e.gags[l].lvl+=1;break}for(let s=0;s<e.gags.length;s++)e.gags[s].isOrg=!1,e.damageKillsCog(t)||(e.gags[s].isOrg=!0);if(r)for(let s=0;s<e.gags.length;s++)e.gags[s].track!=="drop"&&e.gags[s].lvl===0&&(e.gags[s].lvl=1);return e}function ke(e,t){const n=Ye[e.track]-Ye[t.track];return n!==0?n:t.damage-e.damage}var rr=$("<div id=combo-grid><div style=flex-grow:1;overflow:hidden;><div id=combos><div id=cog-lvl-column></div><div id=combos-grid></div></div></div><div id=combo-grid-settings><label><input type=checkbox id=hide-lvl-13-up-cogs>Hide Level 13+ Cogs</label><label><input type=checkbox id=level-4-up-gags-only>Level 4+ Gags Only</label></div><div id=is-cog-lured><button><img><span>Is Cog Lured?</span></button></div><div style=display:flex;justify-content:center;><button id=expand-org> organic gags selection"),lr=$("<div class=combo-cell>"),sr=$("<div id=org-selection-container><div id=org-selection-header><h4>Select Your Party's Organic Gags</h4><button id=clear-selection>Clear Selection</button></div><div id=org-selection>"),ir=$("<div id=org-selection-preview>");const or=()=>{const e=ge(),t=k(()=>{const a=e.getMaxCogLvl(),u=e.getSelectedOrgGagTrackCounts(),c=e.getIsLured(),f=e.getLevel4UpGagsOnly()?4:null;return Array.from(En({maxCogLvl:a,organicGags:u,isLured:c,minGagLvl:f}),m=>tr(m))}),n=a=>{e.toggleHideLvl13UpCogs(),te(e.getStateForStorage())},r=a=>{e.toggleLevel4UpGagsOnly(),te(e.getStateForStorage())},l=a=>{e.toggleIsLured(),te(e.getStateForStorage())},s=a=>{e.toggleShowOrgView(),te(e.getStateForStorage())},o=a=>{et(()=>{e.resetSelectedOrgGags(),e.setIsLured(!1)}),te(e.getStateForStorage())},i=()=>`repeat(${e.getMaxCogLvl()}, 140px) / repeat(3, minmax(min-content, 250px))`;return(()=>{var a=rr(),u=a.firstChild,c=u.firstChild,g=c.firstChild,f=g.nextSibling,m=u.nextSibling,d=m.firstChild,h=d.firstChild,v=d.nextSibling,b=v.firstChild,O=m.nextSibling,C=O.firstChild,x=C.firstChild,R=O.nextSibling,W=R.firstChild,Oe=W.firstChild;return p(g,y(Bn,{})),p(f,y(I,{get each(){return Array.from(_t(4,t()))},children:E=>(()=>{var T=lr();return p(T,y(I,{each:E,children:w=>y(Dn,{combo:w})})),T})()})),h.$$click=n,b.$$click=r,C.$$click=l,W.$$click=s,p(W,()=>e.getShowOrgView()?"Hide":"Show",Oe),p(a,(()=>{var E=k(()=>!!e.getShowOrgView());return()=>E()?(()=>{var T=sr(),w=T.firstChild,P=w.firstChild,j=P.nextSibling,le=w.nextSibling;return j.$$click=o,p(le,y(Wn,{})),T})():(()=>{var T=ir();return p(T,y(Yn,{})),T})()})(),null),A(E=>{var T=`repeat(${e.getMaxCogLvl()}, 140px)`,w=i(),P=e.getIsLured()?"var(--lure)":"unset",j=re({track:"lure",lvl:1});return T!==E.e&&((E.e=T)!=null?g.style.setProperty("grid-template-rows",T):g.style.removeProperty("grid-template-rows")),w!==E.t&&((E.t=w)!=null?f.style.setProperty("grid-template",w):f.style.removeProperty("grid-template")),P!==E.a&&((E.a=P)!=null?C.style.setProperty("background",P):C.style.removeProperty("background")),j!==E.o&&G(x,"src",E.o=j),E},{e:void 0,t:void 0,a:void 0,o:void 0}),A(()=>h.checked=e.getHideLvl13UpCogs()),A(()=>b.checked=e.getLevel4UpGagsOnly()),a})()};_e(["click"]);var ar=$("<div id=calc-page><div id=calc-page-how-to><ul><li>Left-click to select a gag</li><li>Right-click to select an organic gag</li><li><span>Or click the organic icon&nbsp;</span><span><img></span><span>&nbsp;of a selected gag to toggle organic</span></li><li>Left-click a selected gag to deselect it"),cr=$("<div id=calc-gag-grid>"),ur=$('<div class="calc-gag-row no-drag"><div class=calc-gag-row-track-label>'),gr=$("<button class=calc-gag-grid-cell><img class=no-drag>"),fr=$("<table id=cogs-hp><tbody>"),dr=$("<tr>"),hr=$("<td class=cogs-hp-cell><div class=cogs-hp-lvl></div><div class=cogs-hp-hp></div><div class=cogs-hp-remaining>"),mr=$("<button id=clear-gags-btn>Clear all gags (<!>)"),pr=$("<div id=combo-info><div id=selected-gags>"),vr=$("<div id=combo-info-result><div><img width=60 height=60></div><table><tbody><tr><td class=cogs-hp-cell><div class=cogs-hp-lvl>Level: </div><div class=cogs-hp-hp>HP: </div><div class=cogs-hp-remaining>Remaining: </div></td></tr></tbody></table><div><span id=combo-info-result-dmg></span><label id=combo-info-result-dmg-label for=combo-info-result-dmg>Damage"),yr=$("<span class=multi-trap-warning>Multiple trap present in combo, damage negated"),br=$("<div>+20% Same type bonus"),$r=$("<div>+50% Lure knockback bonus"),wr=$("<div class=select-gag-multipliers><hr><div>Damage: "),Sr=$("<div class=selected-gag><div>"),Cr=$("<span class=selected-gag-base-dmg>"),_r=$("<div class=selected-gag-img-and-name><button class=selected-gag-img-container><img></button><button class=selected-org-img-container><img></button><span class=selected-gag-name>");const kr=()=>{const[e,t]=M(new Q({gags:[]}),{equals:!1}),n=(i,a)=>{a.ctrlKey||a.shiftKey||a.altKey||(a.preventDefault(),t(u=>u?(u.gags.push(new z(i)),u.gags.sort(ke),u):new Q({gags:[new z(i)]})))},r=(i,a)=>{if(!(a.ctrlKey||a.shiftKey||a.altKey))switch(a.preventDefault(),i.action){case 0:{t(u=>(u.gags=u.gags.filter(c=>c!==i.gag),u));break}case 1:{o(i.gag);break}}},l=i=>{t(a=>(a.gags=[],a))},s=(i,a)=>{o(i.gag)},o=i=>{t(a=>{const u=a.gags.find(c=>c===i);return u.isOrg=!i.isOrg,a})};return(()=>{var i=ar(),a=i.firstChild,u=a.firstChild,c=u.firstChild,g=c.nextSibling,f=g.nextSibling,m=f.firstChild,d=m.nextSibling,h=d.firstChild;return p(i,y(Or,{onClickGag:n}),a),p(i,y(Pr,{get comboDamage(){return e()?.damage?.()??0}}),a),p(i,y(Ar,{get combo(){return e()},onClickOrgToggle:s,onClickSelectedGag:r,onClickClearGags:l}),a),d.style.setProperty("position","relative"),d.style.setProperty("padding-right","1.1rem"),h.style.setProperty("position","absolute"),h.style.setProperty("top","0"),h.style.setProperty("left","0"),h.style.setProperty("width","1.1rem"),h.style.setProperty("height","1.1rem"),A(()=>G(h,"src",N("Organic.png"))),i})()},Or=e=>(()=>{var t=cr();return p(t,y(I,{get each(){return Object.values(D)},children:n=>(()=>{var r=ur(),l=r.firstChild;return`var(--${n})`!=null?r.style.setProperty("background",`var(--${n})`):r.style.removeProperty("background"),p(l,()=>Ve[n]),p(r,y(I,{get each(){return[...kt(1,7)]},children:s=>(()=>{var o=gr(),i=o.firstChild;return o.$$click=e.onClickGag,o.$$clickData={track:n,lvl:s,isOrg:!1},o.$$contextmenu=e.onClickGag,o.$$contextmenuData={track:n,lvl:s,isOrg:!0},A(()=>G(i,"src",re({track:n,lvl:s}))),o})()}),null),r})()})),t})(),Pr=e=>(()=>{var t=fr(),n=t.firstChild;return p(n,y(I,{get each(){return[..._t(10,kt(1,20))]},children:r=>(()=>{var l=dr();return p(l,y(I,{each:r,children:s=>{const o=()=>X[s]-e.comboDamage,i=()=>e.comboDamage===0?{}:o()<=0?{background:"#22c45e"}:{background:"#ef4444"};return(()=>{var a=hr(),u=a.firstChild,c=u.nextSibling,g=c.nextSibling;return p(u,s),p(c,()=>X[s]),p(g,(()=>{var f=k(()=>e.comboDamage===0);return()=>f()?"-":o()})()),A(f=>Ht(a,i(),f)),a})()}})),l})()})),t})(),Ar=e=>{const t=k(()=>e.combo.damage()),n=()=>{for(const[r,l]of Object.entries(X).reverse())if(t()>=l)return Number(r);return null};return(()=>{var r=pr(),l=r.firstChild;return p(r,y(U,{get when(){return n()},children:s=>{const o=()=>X[s()]-t();return(()=>{var i=vr(),a=i.firstChild,u=a.firstChild,c=a.nextSibling,g=c.firstChild,f=g.firstChild,m=f.firstChild,d=m.firstChild;d.firstChild;var h=d.nextSibling;h.firstChild;var v=h.nextSibling;v.firstChild;var b=c.nextSibling,O=b.firstChild;return a.style.setProperty("text-align","right"),m.style.setProperty("white-space","nowrap"),p(d,s,null),p(h,()=>X[s()],null),p(v,o,null),b.style.setProperty("width","min-content"),b.style.setProperty("text-align","center"),p(O,()=>e.combo.damage()),A(()=>G(u,"src",N(`cog_icons/${s()>14?"field-office":s()}.png`))),i})()}}),l),p(r,y(U,{get when(){return e.combo.gags.length>0},get children(){var s=mr(),o=s.firstChild,i=o.nextSibling;return i.nextSibling,qt(s,"click",e.onClickClearGags,!0),p(s,()=>e.combo.gags.length,i),s}}),l),p(l,y(I,{get each(){return e.combo.gagsGroupedByTrack()},children:s=>{const o=k(()=>s[0].multipliers(e.combo));return(()=>{var i=Sr(),a=i.firstChild;return a.style.setProperty("display","flex"),a.style.setProperty("flex-direction","column"),a.style.setProperty("gap","0.5rem"),p(a,y(U,{get when(){return s[0].track===D.trap&&s.length>=2},get children(){return yr()}}),null),p(a,y(I,{each:s,children:u=>(()=>{var c=_r(),g=c.firstChild,f=g.firstChild,m=g.nextSibling,d=m.firstChild,h=m.nextSibling;return g.$$contextmenu=e.onClickSelectedGag,g.$$contextmenuData={gag:u,action:1},g.$$click=e.onClickSelectedGag,g.$$clickData={gag:u,action:0},m.$$click=e.onClickOrgToggle,m.$$clickData={gag:u},p(h,()=>u.name,null),p(h,()=>u.isOrg&&" (Org) ",null),p(c,y(U,{get when(){return u.damage>0},get children(){var v=Cr();return p(v,()=>`[${u.damage}]`),v}}),null),A(v=>{var b=re({track:u.track,lvl:u.lvl}),O=u.isOrg?"100%":"50%",C=N("Organic.png");return b!==v.e&&G(f,"src",v.e=b),O!==v.t&&((v.t=O)!=null?m.style.setProperty("opacity",O):m.style.removeProperty("opacity")),C!==v.a&&G(d,"src",v.a=C),v},{e:void 0,t:void 0,a:void 0}),c})()}),null),p(i,y(U,{get when(){return o().multi||o().knockback},get children(){var u=wr(),c=u.firstChild,g=c.nextSibling;return g.firstChild,p(u,y(U,{get when(){return o().multi},get children(){return br()}}),c),p(u,y(U,{get when(){return o().knockback},get children(){return $r()}}),c),c.style.setProperty("border","none"),g.style.setProperty("text-align","right"),p(g,()=>e.combo.damage(void 0,s[0].track),null),A(()=>`2px solid var(--${s[0].track})`!=null?c.style.setProperty("border-top",`2px solid var(--${s[0].track})`):c.style.removeProperty("border-top")),u}}),null),A(()=>`4px solid var(--${s[0].track})`!=null?i.style.setProperty("border",`4px solid var(--${s[0].track})`):i.style.removeProperty("border")),i})()}})),r})()};_e(["contextmenu","click"]);var xr=$("<main>"),Lr=$("<div id=not-found class=flex-center><div>Page not found</div><a>Back to home");const Ge=N,Er=()=>y(kn,{root:Gr,get children(){return[y(Ee,{get path(){return[Ge(""),Ge("grid")]},component:or}),y(Ee,{get path(){return Ge("calc")},component:kr}),y(Ee,{path:"*404",component:Rr})]}}),Gr=e=>y(An,{get children(){return[y(Rn,{}),(()=>{var t=xr();return p(t,()=>e.children),t})()]}}),Rr=()=>(()=>{var e=Lr(),t=e.firstChild,n=t.nextSibling;return A(()=>G(n,"href",N(""))),e})(),Tr=document.getElementById("root");Kt(()=>y(Er,{}),Tr);
